<!DOCTYPE html>
<html lang="zh" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head><script src="/Wungmeisilong/hugoBlog_pub.git/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=Wungmeisilong/hugoBlog_pub.git/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.145.0">
    <meta name="generator" content="Relearn 7.6.1">
    <meta name="description" content="ä»¥ä¸‹ç¬”è®°çš†åŸºäºHALåº“ã€‚
æ–°å»ºSTM32CubeMXå·¥ç¨‹æ­¥éª¤ åˆ›å»ºå·¥ç¨‹ä¸­å¦‚æœå‹¾é€‰MCOè¡¨ç¤ºå‘å¤–éƒ¨è¾“å‡ºæ—¶é’Ÿï¼Œ è¾“å‡ºçš„æ˜¯å“ªä¸€ä¸ªå¼•è„šå¯ä»¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ã€‚">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ç”µèµ› :: Maloudown">
    <meta name="twitter:description" content="ä»¥ä¸‹ç¬”è®°çš†åŸºäºHALåº“ã€‚
æ–°å»ºSTM32CubeMXå·¥ç¨‹æ­¥éª¤ åˆ›å»ºå·¥ç¨‹ä¸­å¦‚æœå‹¾é€‰MCOè¡¨ç¤ºå‘å¤–éƒ¨è¾“å‡ºæ—¶é’Ÿï¼Œ è¾“å‡ºçš„æ˜¯å“ªä¸€ä¸ªå¼•è„šå¯ä»¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ã€‚">
    <meta property="og:url" content="http://localhost:1313/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/">
    <meta property="og:site_name" content="Maloudown">
    <meta property="og:title" content="ç”µèµ› :: Maloudown">
    <meta property="og:description" content="ä»¥ä¸‹ç¬”è®°çš†åŸºäºHALåº“ã€‚
æ–°å»ºSTM32CubeMXå·¥ç¨‹æ­¥éª¤ åˆ›å»ºå·¥ç¨‹ä¸­å¦‚æœå‹¾é€‰MCOè¡¨ç¤ºå‘å¤–éƒ¨è¾“å‡ºæ—¶é’Ÿï¼Œ è¾“å‡ºçš„æ˜¯å“ªä¸€ä¸ªå¼•è„šå¯ä»¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ã€‚">
    <meta property="og:locale" content="zh">
    <meta property="og:type" content="article">
    <meta property="article:section" content="  é¡¹ç›®">
    <meta property="article:published_time" content="2024-05-14T22:22:09+08:00">
    <meta property="article:modified_time" content="2024-05-14T22:22:09+08:00">
    <meta property="article:tag" content="STM32å­¦ä¹ ">
    <meta itemprop="name" content="ç”µèµ› :: Maloudown">
    <meta itemprop="description" content="ä»¥ä¸‹ç¬”è®°çš†åŸºäºHALåº“ã€‚
æ–°å»ºSTM32CubeMXå·¥ç¨‹æ­¥éª¤ åˆ›å»ºå·¥ç¨‹ä¸­å¦‚æœå‹¾é€‰MCOè¡¨ç¤ºå‘å¤–éƒ¨è¾“å‡ºæ—¶é’Ÿï¼Œ è¾“å‡ºçš„æ˜¯å“ªä¸€ä¸ªå¼•è„šå¯ä»¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ã€‚">
    <meta itemprop="datePublished" content="2024-05-14T22:22:09+08:00">
    <meta itemprop="dateModified" content="2024-05-14T22:22:09+08:00">
    <meta itemprop="wordCount" content="2645">
    <meta itemprop="keywords" content="STM32å­¦ä¹ ">
    <title>ç”µèµ› :: Maloudown</title>
    <link href="http://localhost:1313/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/" rel="canonical" type="text/html" title="ç”µèµ› :: Maloudown">
    <link href="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/index.xml" rel="alternate" type="application/rss+xml" title="ç”µèµ› :: Maloudown">
    <link href="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/index.md" rel="alternate" type="text/markdown" title="ç”µèµ› :: Maloudown">
    <link href="/Wungmeisilong/hugoBlog_pub.git/images/favicon.svg?1744078837" rel="icon" type="image/svg+xml">
    <link href="/Wungmeisilong/hugoBlog_pub.git/fonts/fontawesome/css/fontawesome-all.min.css?1744078837" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/Wungmeisilong/hugoBlog_pub.git/fonts/fontawesome/css/fontawesome-all.min.css?1744078837" rel="stylesheet"></noscript>
    <link href="/Wungmeisilong/hugoBlog_pub.git/css/perfect-scrollbar/perfect-scrollbar.min.css?1744078837" rel="stylesheet">
    <link href="/Wungmeisilong/hugoBlog_pub.git/css/theme.css?1744078837" rel="stylesheet">
    <link href="/Wungmeisilong/hugoBlog_pub.git/css/format-print.css?1744078837" rel="stylesheet" id="R-format-style">
    <link href="/Wungmeisilong/hugoBlog_pub.git/css/auto-complete/auto-complete.min.css?1744078837" rel="stylesheet">
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/auto-complete/auto-complete.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/lunr/lunr.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/lunr/lunr.stemmer.support.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/lunr/lunr.multi.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/lunr/lunr.zh.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/search.js?1744078837" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/projects\/%E7%94%B5%E8%B5%9B\/';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/Wungmeisilong\/hugoBlog_pub.git';
      window.relearn.contentLangs=['zh'];
      window.relearn.index_js_url="/Wungmeisilong/hugoBlog_pub.git/searchindex.zh.js?1744078837";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // variant stuff
      window.relearn.themevariants = [ 'auto', 'relearn-light', 'red' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `å¤åˆ¶åˆ°å‰ªè´´æ¿`;
      window.T_Copied_to_clipboard = `å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`;
      window.T_Copy_link_to_clipboard = `å°†é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿`;
      window.T_Link_copied_to_clipboard = `é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`;
      window.T_Reset_view = `é‡ç½®è§†å›¾`;
      window.T_View_reset = `æŸ¥çœ‹é‡ç½®ï¼`;
      window.T_No_results_found = `æ‰¾ä¸åˆ°"{0}"çš„ç»“æœ`;
      window.T_N_results_found = `ä¸º"{0}"æ‰¾åˆ° {1} ä¸ªç»“æœ`;
    </script>
<style>
  :root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --color-primary: #2c3e50;           
    --color-background-light: #f8f9fa;  
  }
   
  .cornell-notes {
    padding: 10px;
    margin: 10px;
    display: flex;
    flex-wrap: wrap;
  }

  .cues {
    background-image: url('/images/cornell-img/icon2.svg');
    border-right: 1px solid #080808;
    flex: 1;
    padding-right: 20px;
  }

  .notes {
    background-image: url('/images/cornell-img/icon1.svg');
    border-left: 1px solid #080808;
    flex: 2;
    padding-left: 20px;
  }

  .summary {
    width: 100%;
    clear: both;
    padding-top: 20px;
    background-image: url('/images/cornell-img/iconmonstr-menu-lined.svg');
    margin-top: 20px;
  }

   
  .svg-container {
    width: 100%; 
    height: 40px;  
    margin-bottom: 1rem;
  }
  
   
  .svg-container svg {
    width: 100%;
    height: 100%;
    fill: currentColor;  
  }
  </style>

  </head>
  <body class="mobile-support print" data-url="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="å¯¼èˆª (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="ç›®å½• (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#æ–°å»ºstm32cubemxå·¥ç¨‹æ­¥éª¤">æ–°å»ºSTM32CubeMXå·¥ç¨‹æ­¥éª¤</a></li>
    <li><a href="#æ—¶é’Ÿ">æ—¶é’Ÿ</a>
      <ul>
        <li><a href="#nvicä»‹ç»">NVICä»‹ç»</a></li>
        <li><a href="#ä¸­æ–­ä¼˜å…ˆçº§">ä¸­æ–­ä¼˜å…ˆçº§</a></li>
        <li><a href="#nvic-çš„ä½¿ç”¨">NVIC çš„ä½¿ç”¨</a></li>
      </ul>
    </li>
    <li><a href="#æ ‡å‡†åº“ä¸­é¢ä¸­æ–­">æ ‡å‡†åº“ä¸­é¢ä¸­æ–­</a>
      <ul>
        <li><a href="#extiextern-interruptå¤–éƒ¨ä¸­æ–­">EXTIï¼ˆExtern Interruptï¼‰å¤–éƒ¨ä¸­æ–­</a></li>
        <li><a href="#afioå¤ç”¨ioå£">AFIOå¤ç”¨IOå£</a></li>
        <li><a href="#extiå®ç°ä»£ç ">EXTIå®ç°ä»£ç </a></li>
      </ul>
    </li>
    <li><a href="#å®šæ—¶å™¨">å®šæ—¶å™¨</a>
      <ul>
        <li><a href="#timtimerå®šæ—¶å™¨">TIMï¼ˆTimerï¼‰å®šæ—¶å™¨</a></li>
        <li><a href="#ä½¿ç”¨å†…éƒ¨æ—¶é’Ÿæºå®ç°ä¸­æ–­æ ‡å‡†åº“ä¸­">ä½¿ç”¨å†…éƒ¨æ—¶é’Ÿæºå®ç°ä¸­æ–­ï¼ˆæ ‡å‡†åº“ä¸­ï¼‰</a></li>
      </ul>
    </li>
    <li><a href="#å®ç°è¾“å‡ºæ¯”è¾ƒ">å®ç°è¾“å‡ºæ¯”è¾ƒ</a>
      <ul>
        <li><a href="#ocoutput-compareè¾“å‡ºæ¯”è¾ƒ">OCï¼ˆOutput Compareï¼‰è¾“å‡ºæ¯”è¾ƒ</a></li>
        <li><a href="#pwmæ³¢å½¢">PWMæ³¢å½¢</a></li>
        <li><a href="#è¾“å‡ºæ¯”è¾ƒçš„è®¾ç½®">è¾“å‡ºæ¯”è¾ƒçš„è®¾ç½®</a></li>
        <li><a href="#pwmåŸºæœ¬ç»“æ„">PWMåŸºæœ¬ç»“æ„</a></li>
        <li><a href="#ä»£ç ç¼–å†™">ä»£ç ç¼–å†™</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/Wungmeisilong/hugoBlog_pub.git/"><span itemprop="name">æŠ€æœ¯åšå®¢ | æ™ºèƒ½ç‰©è”æ—¶ä»£</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/Wungmeisilong/hugoBlog_pub.git/projects/"><span itemprop="name">  é¡¹ç›®</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">ç”µèµ›</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-markdown" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/index.md" title="æ˜¾ç¤º Markdown"><i class="fa-fw fab fa-markdown"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/index.print.html" title="æ‰“å°æ•´ç«  (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/Wungmeisilong/hugoBlog_pub.git/projects/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/" title="æ¯•ä¸šè®¾è®¡ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/Wungmeisilong/hugoBlog_pub.git/projects/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/" title="å”›ç›Ÿæ¯æ¯”èµ›è¯¦è®° (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="æ›´å¤š"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable projects" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="æ ‡ç­¾" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="/Wungmeisilong/hugoBlog_pub.git/tags/stm32%E5%AD%A6%E4%B9%A0/">STM32å­¦ä¹ </a></li>
  </ul>
</div>
  </header>

<h1 id="ç”µèµ›">ç”µèµ›</h1>

<hr>
<p><strong>ä»¥ä¸‹ç¬”è®°çš†åŸºäºHALåº“ã€‚</strong></p>
<h2 id="æ–°å»ºstm32cubemxå·¥ç¨‹æ­¥éª¤">æ–°å»ºSTM32CubeMXå·¥ç¨‹æ­¥éª¤</h2>
<p><a href="#R-image-aec711711fad986a4aa7ac65d094427c" class="lightbox-link"><img alt="æ­¥éª¤" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aec711711fad986a4aa7ac65d094427c"><img alt="æ­¥éª¤" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image.png"></a></p>
<p>åˆ›å»ºå·¥ç¨‹ä¸­å¦‚æœå‹¾é€‰MCOè¡¨ç¤ºå‘å¤–éƒ¨è¾“å‡ºæ—¶é’Ÿï¼Œ
<a href="#R-image-93e91f4c756bdc247c904d48417d4c81" class="lightbox-link"><img alt="æ‰“é’©" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-93e91f4c756bdc247c904d48417d4c81"><img alt="æ‰“é’©" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-1.png"></a>
è¾“å‡ºçš„æ˜¯å“ªä¸€ä¸ªå¼•è„šå¯ä»¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾ã€‚
<a href="#R-image-f7b8186d38fa758c270bd301a60322f7" class="lightbox-link"><img alt="PA8" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f7b8186d38fa758c270bd301a60322f7"><img alt="PA8" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-2.png"></a></p>
<p>å¤–éƒ¨æ—¶é’Ÿè®¾ç½®
<a href="#R-image-0e29177e7a0bfbed8e4f699e545bcc37" class="lightbox-link"><img alt="æ—¶é’Ÿ" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-3.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0e29177e7a0bfbed8e4f699e545bcc37"><img alt="æ—¶é’Ÿ" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-3.png"></a></p>
<p>å·¥ç¨‹è®¾ç½®
<a href="#R-image-a91766920236f3905fac8d046cc74d92" class="lightbox-link"><img alt="é¡¹ç›®è®¾ç½®" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-4.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a91766920236f3905fac8d046cc74d92"><img alt="é¡¹ç›®è®¾ç½®" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-4.png"></a></p>
<p>å¦‚æœApplication Structureè®¾ç½®ä¸ºBasicï¼Œé‚£ä¹ˆä¼šæŠŠä¸‹é¢çš„ä¸¤ä¸ªæ–‡ä»¶åˆ†å¼€æ”¾
<a href="#R-image-7725c355cbd9615be77d102b35acaec4" class="lightbox-link"><img alt="xx " class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-5.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7725c355cbd9615be77d102b35acaec4"><img alt="xx " class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-5.png"></a>
å¦åˆ™é¡¹ç›®ä¼šæŠŠä¸¤ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œï¼Œå¦‚Core</p>
<p>æœ€åè¿˜éœ€è¦è®¾ç½®Code Generatorï¼Œå¦‚ä¸‹ï¼š
<a href="#R-image-afd57d8cc415bb719bf4e73a151fdab3" class="lightbox-link"><img alt="Code Generator" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-6.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-afd57d8cc415bb719bf4e73a151fdab3"><img alt="Code Generator" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-6.png"></a></p>
<h2 id="æ—¶é’Ÿ">æ—¶é’Ÿ</h2>
<p>1.åˆè¯†æ—¶é’Ÿå‘¨æœŸ</p>
<p>2.æ—¶é’Ÿæ ‘
<a href="#R-image-14be8aa18ff1571488b8d81cf6552b69" class="lightbox-link"><img alt="æ—¶é’Ÿæ ‘" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-7.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-14be8aa18ff1571488b8d81cf6552b69"><img alt="æ—¶é’Ÿæ ‘" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-7.png"></a>
<a href="#R-image-7230f1a1e7e4de4a777a9a966d7d15b2" class="lightbox-link"><img alt="æ—¶é’Ÿæ ‘1" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-8.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7230f1a1e7e4de4a777a9a966d7d15b2"><img alt="æ—¶é’Ÿæ ‘1" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-8.png"></a>
<a href="#R-image-6297e667f1b02dc7dbc759b930633f7e" class="lightbox-link"><img alt="æ—¶é’Ÿæ ‘2" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-9.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6297e667f1b02dc7dbc759b930633f7e"><img alt="æ—¶é’Ÿæ ‘2" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-9.png"></a></p>
<p>3.æ—¶é’Ÿé…ç½®æ­¥éª¤
<a href="#R-image-be90e7c4881a081ea23e2737499a3374" class="lightbox-link"><img alt="æ­¥éª¤" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-10.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-be90e7c4881a081ea23e2737499a3374"><img alt="æ­¥éª¤" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-10.png"></a></p>
<p>4.å¤–è®¾æ—¶é’Ÿä½¿èƒ½å’Œå¤±èƒ½</p>
<p>5.sys_stm32_cloc_init()å‡½æ•°</p>
<ul>
<li>
<p>HAL_RCC_OscConfig()</p>
<ul>
<li>HSEé«˜é€Ÿå¤–è®¾æŒ¯è¡å™¨</li>
<li>LSE</li>
<li>RCæŒ¯è¡å™¨ï¼Œéšç€ç”µå‹çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªæ£€éªŒå€¼</li>
<li>PLLé”ç›¸ç¯</li>
</ul>
</li>
<li>
<p>HAL_RCC_ClockConfig()
<a href="#R-image-c437543cec079bd3c50f29fa6d1cafb5" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-12.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c437543cec079bd3c50f29fa6d1cafb5"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-12.png"></a>
<a href="#R-image-2153267380bd85d75e333c1bb54130f0" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-11.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2153267380bd85d75e333c1bb54130f0"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-11.png"></a></p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°
<ul>
<li>ç»“æ„ä½“ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°é‡Œçš„HCLKæ˜¯æŒ‡AHBæ€»çº¿ã€PCLK1æ˜¯æŒ‡APB1æ€»çº¿ã€PCLK2æ˜¯æŒ‡APB2æ€»çº¿ï¼Œè¿™ä¸ªé…ç½®è¡¨ç¤ºè¦é…é‚£æ¡æ€»çº¿çš„æ—¶é’Ÿã€‚</li>
</ul>
</li>
<li>ç¬¬äºŒä¸ªå½¢å‚
<a href="#R-image-82e14ea4394b4d395164b57b0ff32fdc" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-14.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-82e14ea4394b4d395164b57b0ff32fdc"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-14.png"></a>
<ul>
<li>F1ç³»ç»Ÿæ—¶é’Ÿ72MHz,å¦‚æœä½¿ç”¨72MHzè®¿é—®é—ªå­˜ï¼ˆFlashï¼‰é‚£ä¹ˆæ˜¯éœ€è¦ç­‰å¾…çš„ï¼Œå› ä¸ºé—ªå­˜çš„å…è®¸æœ€å¤§æ—¶é’Ÿé¢‘ç‡æ˜¯42MHz,æ‰€ä»¥éœ€è¦ç­‰å¾…ï¼Œç­‰å¾…å¤šå°‘ä¸ªå‘¨æœŸéœ€è¦ä¸‹å›¾
<a href="#R-image-70a01c9b70e9e81bc22fc5baa08efbda" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-13.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-70a01c9b70e9e81bc22fc5baa08efbda"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-13.png"></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>6.SYSTENæ–‡ä»¶å¤¹</p>
<ul>
<li>sysæ–‡ä»¶å¤¹
<a href="#R-image-c3dbc9dbf164a4df83d16815e3d451b5" class="lightbox-link"><img alt="sysè¡¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-15.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c3dbc9dbf164a4df83d16815e3d451b5"><img alt="sysè¡¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-15.png"></a></li>
</ul>
<h3 id="nvicä»‹ç»">NVICä»‹ç»</h3>
<h4 id="ä¸­æ–­åŸºæœ¬æ¦‚å¿µ">ä¸­æ–­åŸºæœ¬æ¦‚å¿µ</h4>
<p><a href="#R-image-885fcb46319967b3a2ab14d5748f70e9" class="lightbox-link"><img alt="æ¦‚å¿µ" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-17.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-885fcb46319967b3a2ab14d5748f70e9"><img alt="æ¦‚å¿µ" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-17.png"></a>
<a href="#R-image-c5ef3cacf340dab6daeb5999234a827e" class="lightbox-link"><img alt="ä¸­æ–­è¡¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-18.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c5ef3cacf340dab6daeb5999234a827e"><img alt="ä¸­æ–­è¡¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-18.png"></a></p>
<h4 id="ä¸­æ–­å‘é‡è¡¨">ä¸­æ–­å‘é‡è¡¨</h4>
<p><a href="#R-image-9be8f367892dc6e0a6925d36c41dd0d7" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-16.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9be8f367892dc6e0a6925d36c41dd0d7"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-16.png"></a></p>
<h4 id="æ–‡ä»¶é‡Œçš„ä¸­æ–­åœ¨å“ªé‡Œå‘¢">æ–‡ä»¶é‡Œçš„ä¸­æ–­åœ¨å“ªé‡Œå‘¢ï¼Ÿ</h4>
<p>åœ¨æ–‡ä»¶<strong>startup_stm32f10x_hd.s</strong>ä¸­è¿™é‡Œåˆ—å‡ºå†…éƒ¨ä¸­æ–­ï¼Œå¤–éƒ¨ä¸­æ–­å°±åœ¨å†…éƒ¨ä¸­æ–­ä¹‹ä¸‹ï¼Œè¿™é‡Œä¸å†åˆ—å‡ºã€‚</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>__Vectors       DCD     __initial_sp               ; Top of Stack
</span></span><span style="display:flex;"><span>                DCD     Reset_Handler              ; Reset Handler
</span></span><span style="display:flex;"><span>                DCD     NMI_Handler                ; NMI Handler
</span></span><span style="display:flex;"><span>                DCD     HardFault_Handler          ; Hard Fault Handler
</span></span><span style="display:flex;"><span>                DCD     MemManage_Handler          ; MPU Fault Handler
</span></span><span style="display:flex;"><span>                DCD     BusFault_Handler           ; Bus Fault Handler
</span></span><span style="display:flex;"><span>                DCD     UsageFault_Handler         ; Usage Fault Handler
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     SVC_Handler                ; SVCall Handler
</span></span><span style="display:flex;"><span>                DCD     DebugMon_Handler           ; Debug Monitor Handler
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     PendSV_Handler             ; PendSV Handler
</span></span><span style="display:flex;"><span>                DCD     SysTick_Handler            ; SysTick Handler</span></span></code></pre></div>
<h4 id="ä¸­æ–­å¯„å­˜å™¨">ä¸­æ–­å¯„å­˜å™¨</h4>
<p><a href="#R-image-e88211a0b763e9f9e7654d72d154c706" class="lightbox-link"><img alt="ä¸­æ–­å¯„å­˜å™¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-20.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e88211a0b763e9f9e7654d72d154c706"><img alt="ä¸­æ–­å¯„å­˜å™¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-20.png"></a></p>
<h4 id="ä¸­æ–­åŸç†">ä¸­æ–­åŸç†</h4>
<p><a href="#R-image-5f6c2becb779cb6ae6e4c8d035a2ba87" class="lightbox-link"><img alt="åŸç†" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-21.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5f6c2becb779cb6ae6e4c8d035a2ba87"><img alt="åŸç†" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-21.png"></a></p>
<h3 id="ä¸­æ–­ä¼˜å…ˆçº§">ä¸­æ–­ä¼˜å…ˆçº§</h3>
<p><a href="#R-image-3fde3a554485ab3ec21e932ae08c04de" class="lightbox-link"><img alt="ä¼˜å…ˆçº§" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-22.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3fde3a554485ab3ec21e932ae08c04de"><img alt="ä¼˜å…ˆçº§" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-22.png"></a>
<a href="#R-image-4d1a3c8cd1592610c9f8169761b6f3d0" class="lightbox-link"><img alt="ä¼˜å…ˆçº§" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-23.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4d1a3c8cd1592610c9f8169761b6f3d0"><img alt="ä¼˜å…ˆçº§" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-23.png"></a>
å“åº”ä¼˜å…ˆçº§åˆå«å­ä¼˜å…ˆçº§</p>
<p><strong>ä¸­æ–­çš„æŠ¢å ä¼˜å…ˆçº§ç”±AICRå¯„å­˜å™¨çš„åä¸‰ä½æ§åˆ¶ï¼Œè€Œå“åº”ä¼˜å…ˆçº§ç”±IPRxå¯„å­˜å™¨çš„åå››ä½æ§åˆ¶</strong>ï¼Œæœ€ç»ˆåˆ†é…ç»“æœå‚è€ƒä¸‹é¢çš„è¡¨æ ¼
<a href="#R-image-abee672220eb5fdd0ffdbac6fb7d4808" class="lightbox-link"><img alt="è¡¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-24.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-abee672220eb5fdd0ffdbac6fb7d4808"><img alt="è¡¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-24.png"></a></p>
<p>ä¸­æ–­ä¸€èˆ¬åªè®¾ç½®ä¸€æ¬¡ï¼Œè®¾ç½®å¤šæ¬¡å¯èƒ½ä¼šå¯¼è‡´ä¸­æ–­ç´Šä¹±ï¼Œä¸€èˆ¬ä»¥æœ€åä¸€æ¬¡çš„ä¸­æ–­è®¾ç½®ä¸ºå‡†ï¼Œè¯¦ç»†è¯´æ˜å‚è€ƒæ‰‹å†Œ4.4.5</p>
<p>ä¸­æ–­æ‰§è¡Œçš„é¡ºåºï¼šæŠ¢å ä¼˜å…ˆçº§ï¼ˆå…ˆæ‰§è¡Œæ•°å€¼å°çš„ï¼‰â€”â€”â€”â€”å“åº”ä¼˜å…ˆçº§ï¼ˆå…ˆæ‰§è¡Œæ•°å€¼å°çš„ï¼‰â€”â€”â€”â€”è‡ªç„¶ä¼˜å…ˆçº§ï¼ˆå…ˆæ‰§è¡Œæ•°å€¼å¤§çš„ï¼‰</p>
<h3 id="nvic-çš„ä½¿ç”¨">NVIC çš„ä½¿ç”¨</h3>
<hr>
<p><strong>ä»¥ä¸‹ç¬”è®°çš†åŸºäºæ ‡å‡†åº“ã€‚</strong></p>
<h2 id="æ ‡å‡†åº“ä¸­é¢ä¸­æ–­">æ ‡å‡†åº“ä¸­é¢ä¸­æ–­</h2>
<p><a href="#R-image-99c530d1d8bc3efb43c08f9749af74af" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-25.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-99c530d1d8bc3efb43c08f9749af74af"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-25.png"></a></p>
<h3 id="extiextern-interruptå¤–éƒ¨ä¸­æ–­">EXTIï¼ˆExtern Interruptï¼‰å¤–éƒ¨ä¸­æ–­</h3>
<p>EXTIå¯ä»¥ç›‘æµ‹æŒ‡å®šGPIOå£çš„ç”µå¹³ä¿¡å·ï¼Œå½“å…¶æŒ‡å®šçš„GPIOå£äº§ç”Ÿç”µå¹³å˜åŒ–æ—¶ï¼ŒEXTIå°†ç«‹å³å‘NVICå‘å‡ºä¸­æ–­ç”³è¯·ï¼Œç»è¿‡NVICè£å†³åå³å¯ä¸­æ–­CPUä¸»ç¨‹åºï¼Œä½¿CPUæ‰§è¡ŒEXTIå¯¹åº”çš„ä¸­æ–­ç¨‹åº</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œgpioç”µå¹³å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç”³è¯·å¤–éƒ¨ä¸­æ–­ã€‚</p>
<ul>
<li><strong>æ”¯æŒçš„è§¦å‘æ–¹å¼</strong>ï¼šä¸Šå‡æ²¿/ä¸‹é™æ²¿/åŒè¾¹æ²¿/è½¯ä»¶è§¦å‘ï¼ˆ<em>å¼•è„šæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæ‰§è¡Œä¸€æ®µä»£ç å°±ç”³è¯·ä¸­æ–­</em>ï¼‰</li>
<li><strong>æ”¯æŒçš„GPIOå£</strong>ï¼šæ‰€æœ‰GPIOå£ï¼Œä½†ç›¸åŒçš„Pinä¸èƒ½åŒæ—¶è§¦å‘ä¸­æ–­ï¼ˆ<em>å¦‚PA1ï¼ŒPB1ï¼ŒPC1ä¸èƒ½åŒæ—¶è§¦å‘ä¸­æ–­</em>ï¼‰</li>
<li><strong>é€šé“æ•°</strong>ï¼š16ä¸ªGPIO_Pinï¼Œå¤–åŠ PVDè¾“å‡ºã€RTCé—¹é’Ÿã€USBå”¤é†’ã€ä»¥å¤ªç½‘å”¤é†’</li>
<li><strong>è§¦å‘å“åº”æ–¹å¼</strong>ï¼šä¸­æ–­å“åº”/äº‹ä»¶å“åº”ï¼ˆ<em>äº‹ä»¶å“åº”ä¸ä¼šè§¦å‘ä¸­æ–­ã€‚è€Œæ˜¯è§¦å‘åˆ«çš„å¤–è®¾æ“ä½œã€‚å±äºå¤–è®¾ä¹‹é—´çš„è”åˆå·¥ä½œ</em>ï¼‰</li>
</ul>
<h3 id="afioå¤ç”¨ioå£">AFIOå¤ç”¨IOå£</h3>
<p>ä¸»è¦ç”¨äºå¼•è„šå¤ç”¨åŠŸèƒ½çš„é€‰æ‹©å’Œé‡å®šä¹‰</p>
<p>åœ¨STM32ä¸­ï¼ŒAFIOä¸»è¦å®Œæˆä¸¤ä¸ªä»»åŠ¡ï¼š</p>
<ul>
<li>å¤ç”¨åŠŸèƒ½å¼•è„šé‡æ˜ å°„</li>
<li>ä¸­æ–­å¼•è„šé€‰æ‹©
<a href="#R-image-1ab90d0c6c87098a108b6138ac3a8e65" class="lightbox-link"><img alt="GPIOå£ä¸­æ–­ç”³è¯·å›¾" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-26.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1ab90d0c6c87098a108b6138ac3a8e65"><img alt="GPIOå£ä¸­æ–­ç”³è¯·å›¾" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-26.png"></a></li>
</ul>
<h3 id="extiå®ç°ä»£ç ">EXTIå®ç°ä»£ç </h3>
<p>è¿™æ®µä»£ç çš„ä¸­æ–­ç«¯å£æ˜¯GPIOB_Pin14ï¼Œæ‰€ä»¥éœ€è¦å°†ç›¸å…³çš„ä¼ æ„Ÿå™¨æ¥åˆ°PB14è¿™ä¸ªç«¯å£</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">CountSensor_Init</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//é…ç½®RCC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB2PeriphClockCmd</span>(RCC_APB2Periph_GPIOB,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//AFIOã€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB2PeriphClockCmd</span>(RCC_APB2Periph_AFIO,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//EXTIã€ä¸€ç›´æ‰“å¼€ç€ä¸ç”¨é…ç½®æ‰“å¼€æ—¶é’Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">//NVIC  ä¸€ç›´æ‰“å¼€ç€ä¸ç”¨é…ç½®æ‰“å¼€æ—¶é’Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	GPIO_InitTypeDef GPIO_InitStructure;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Mode<span style="color:#f92672">=</span>GPIO_Mode_IPU;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Pin<span style="color:#f92672">=</span>GPIO_Pin_14;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Speed<span style="color:#f92672">=</span>GPIO_Speed_50MHz;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">GPIO_Init</span>(GPIOB,<span style="color:#f92672">&amp;</span>GPIO_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">GPIO_EXTILineConfig</span>(GPIO_PortSourceGPIOB,GPIO_PinSource14);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//EXTI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	EXTI_InitTypeDef EXTI_InitStructure;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Line<span style="color:#f92672">=</span>EXTI_Line14;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_LineCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Mode<span style="color:#f92672">=</span>EXTI_Mode_Interrupt;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Trigger<span style="color:#f92672">=</span>EXTI_Trigger_Falling;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">EXTI_Init</span>(<span style="color:#f92672">&amp;</span>EXTI_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//NVIC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	NVIC_InitTypeDef NVIC_InitStructure;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannel<span style="color:#f92672">=</span>EXTI15_10_IRQn;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelSubPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">NVIC_Init</span>(<span style="color:#f92672">&amp;</span>NVIC_InitStructure);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">EXTI15_10_IRQHandler</span>(<span style="color:#66d9ef">void</span>){<span style="color:#75715e">//ä¸­æ–­å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">EXTI_GetITStatus</span>(EXTI_Line14)<span style="color:#f92672">==</span> SET){
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">EXTI_ClearITPendingBit</span>(EXTI_Line14);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="å®šæ—¶å™¨">å®šæ—¶å™¨</h2>
<h3 id="timtimerå®šæ—¶å™¨">TIMï¼ˆTimerï¼‰å®šæ—¶å™¨</h3>
<p>å®šæ—¶å™¨å¯ä»¥å¯¹è¾“å…¥çš„æ—¶é’Ÿè¿›è¡Œè®¡æ•°ï¼Œå¹¶åœ¨è®¡æ•°å€¼è¾¾åˆ°è®¾å®šå€¼æ—¶è§¦å‘ä¸­æ–­</p>
<p>16ä½è®¡æ•°å™¨ã€é¢„åˆ†é¢‘å™¨ã€è‡ªåŠ¨é‡è£…å¯„å­˜å™¨çš„æ—¶åŸºå•å…ƒï¼Œåœ¨72MHzè®¡æ•°æ—¶é’Ÿä¸‹å¯ä»¥å®ç°æœ€å¤§59.65sçš„å®šæ—¶
ä¸ä»…å…·å¤‡åŸºæœ¬çš„å®šæ—¶ä¸­æ–­åŠŸèƒ½ï¼Œè€Œä¸”è¿˜åŒ…å«å†…å¤–æ—¶é’Ÿæºé€‰æ‹©ã€è¾“å…¥æ•è·ã€è¾“å‡ºæ¯”è¾ƒã€ç¼–ç å™¨æ¥å£ã€ä¸»ä»è§¦å‘æ¨¡å¼ç­‰å¤šç§åŠŸèƒ½
æ ¹æ®å¤æ‚åº¦å’Œåº”ç”¨åœºæ™¯åˆ†ä¸ºäº†é«˜çº§å®šæ—¶å™¨ã€é€šç”¨å®šæ—¶å™¨ã€åŸºæœ¬å®šæ—¶å™¨ä¸‰ç§ç±»å‹</p>
<h3 id="ä½¿ç”¨å†…éƒ¨æ—¶é’Ÿæºå®ç°ä¸­æ–­æ ‡å‡†åº“ä¸­">ä½¿ç”¨å†…éƒ¨æ—¶é’Ÿæºå®ç°ä¸­æ–­ï¼ˆæ ‡å‡†åº“ä¸­ï¼‰</h3>
<p>åœ¨ç¼–å†™ä»£ç å‰å…ˆçœ‹çœ‹å®šæ—¶å™¨çš„å®ç°åŸç†å›¾</p>
<ul>
<li>åŸºæœ¬å®šæ—¶å™¨
<a href="#R-image-115fa6469aed1905503f2f4a6b87bdfb" class="lightbox-link"><img alt="åŸºæœ¬å®šæ—¶å™¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-27.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-115fa6469aed1905503f2f4a6b87bdfb"><img alt="åŸºæœ¬å®šæ—¶å™¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-27.png"></a></li>
<li>é€šç”¨å®šæ—¶å™¨
<a href="#R-image-06927904760e4cbecf6d2b684d17a01d" class="lightbox-link"><img alt="é€šç”¨å®šæ—¶å™¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-28.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-06927904760e4cbecf6d2b684d17a01d"><img alt="é€šç”¨å®šæ—¶å™¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-28.png"></a></li>
<li>é«˜çº§å®šæ—¶å™¨ï¼ˆçº¢è‰²æ¡†å‡ºæ¥çš„éƒ¨åˆ†æ˜¯é«˜çº§å®šæ—¶å™¨ç‹¬æœ‰çš„ï¼‰
<a href="#R-image-1b3f2f027a0080d3167a19c6cc3591ec" class="lightbox-link"><img alt="é«˜çº§å®šæ—¶å™¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-29.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1b3f2f027a0080d3167a19c6cc3591ec"><img alt="é«˜çº§å®šæ—¶å™¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-29.png"></a></li>
</ul>
<p>æ­¤å¤„ä¸»è¦å‚è€ƒé€šç”¨è®¡æ—¶å™¨çš„ç»“æ„å›¾ï¼Œä¸‹é¢æ˜¯åŸºäºå†…éƒ¨æ—¶é’ŸRCCçš„å®šæ—¶å™¨ã€‚</p>
<p>åœ¨ <strong>stm32f103xxx_rcc.c</strong> æ–‡ä»¶å¯¹ <strong>RCC_APB1PeriphClockCmd</strong> è¿™æ ·çš„ä»‹ç»ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * @brief  Enables or disables the High Speed APB (APB2) peripheral clock.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * @param  RCC_APB2Periph: specifies the APB2 peripheral to gates its clock.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *   This parameter can be any combination of the following values:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *     @arg RCC_APB2Periph_AFIO, RCC_APB2Periph_GPIOA, 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  â€¦â€¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  â€¦â€¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  â€¦â€¦+
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  */</span></span></span></code></pre></div>
<p>specifies the APB2 peripheral to gates its clock.å³ï¼šæŒ‡å®šAPB 2å¤–å›´è®¾å¤‡åˆ°å…¶æ—¶é’Ÿé—¨ã€‚è€Œè¿™é‡Œçš„æ—¶é’Ÿé—¨ä»£ç é‡Œé€‰æ‹©äº†TIM2ã€‚</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Timer_Init</span>(<span style="color:#66d9ef">void</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//1.RCC 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB1PeriphClockCmd</span>(RCC_APB1Periph_TIM2,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//2.é€‰æ‹©æ—¶åŸºå•å…ƒæ—¶é’Ÿæºï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">TIM_InternalClockConfig</span>(TIM2);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//3.æ—¶åŸºå•å…ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
</span></span><span style="display:flex;"><span>	TIM_TimeBaseInitStructure.TIM_ClockDivision<span style="color:#f92672">=</span>TIM_CKD_DIV1;		<span style="color:#75715e">//æ—¶é’Ÿåˆ†é¢‘ï¼Œè¿™é‡Œæ˜¯1åˆ†é¢‘
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_CounterMode<span style="color:#f92672">=</span>TIM_CounterMode_Up;	<span style="color:#75715e">//è®¡æ•°æ–¹å¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_Period<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;					<span style="color:#75715e">//è‡ªåŠ¨é‡è£…å€¼ï¼Œè®¡æ•°è¾¾åˆ°è¿™ä¸ªå€¼åè§¦å‘ä¸­æ–­ï¼Œç„¶åé‡æ–°å¼€å§‹è®¡æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_Prescaler<span style="color:#f92672">=</span><span style="color:#ae81ff">7200</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;				<span style="color:#75715e">//é¢„åˆ†é¢‘ï¼Œè®¡æ•°é¢‘ç‡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>																	<span style="color:#75715e">//å‡è®¾è®¡æ•°ä¸º1såˆ™è‡ªåŠ¨é‡è£…å€¼å¯è®¾ç½®ä¸º10000ï¼Œé¢„åˆ†é¢‘å¯è®¾ç½®ä¸º7200ï¼Œå…¬å¼ä¸ºç§’æ•°=27MHz/PSC/ARR
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_RepetitionCounter<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;				<span style="color:#75715e">//é‡å¤è®¡æ•°æ•°å™¨é«˜çº§å®šæ—¶å™¨æ‰æœ‰ï¼Œè¿™é‡Œè®¾ç½®ä¸º0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">TIM_TimeBaseInit</span>(TIM2,<span style="color:#f92672">&amp;</span>TIM_TimeBaseInitStructure);				<span style="color:#75715e">//æ—¶åŸºå•å…ƒè®¾ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">TIM_ITConfig</span>(TIM2,TIM_IT_Update,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//4.ä¸­æ–­è¾“å‡ºæ§åˆ¶ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">NVIC_PriorityGroupConfig</span>(NVIC_PriorityGroup_2);					<span style="color:#75715e">//æŠ¢å ä¼˜å…ˆçº§,0-3ï¼Œ å“åº”ä¼˜å…ˆçº§0-3ï¼Œä¸€ä¸ªå·¥ç¨‹åªè®¾ç½®ä¸€æ¬¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//5.NVIC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	NVIC_InitTypeDef  NVIC_InitStructure;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannel<span style="color:#f92672">=</span>TIM2_IRQn;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelSubPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">NVIC_Init</span>(<span style="color:#f92672">&amp;</span>NVIC_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">TIM_Cmd</span>(TIM2,ENABLE);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">TIM2_IRQHandler</span>(<span style="color:#66d9ef">void</span>){
</span></span><span style="display:flex;"><span>	 <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">TIM_GetITStatus</span>(TIM2,TIM_IT_Update) <span style="color:#f92672">==</span> SET){
</span></span><span style="display:flex;"><span>		Num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">TIM_ClearITPendingBit</span>(TIM2,TIM_IT_Update);
</span></span><span style="display:flex;"><span>	 }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="å®ç°è¾“å‡ºæ¯”è¾ƒ">å®ç°è¾“å‡ºæ¯”è¾ƒ</h2>
<h3 id="ocoutput-compareè¾“å‡ºæ¯”è¾ƒ">OCï¼ˆOutput Compareï¼‰è¾“å‡ºæ¯”è¾ƒ</h3>
<ul>
<li>
<p>è¾“å‡ºæ¯”è¾ƒå¯ä»¥é€šè¿‡æ¯”è¾ƒCNTä¸CCRå¯„å­˜å™¨å€¼çš„å…³ç³»ï¼Œæ¥å¯¹è¾“å‡ºç”µå¹³è¿›è¡Œç½®1ã€ç½®0æˆ–ç¿»è½¬çš„æ“ä½œï¼Œç”¨äºè¾“å‡ºä¸€å®šé¢‘ç‡å’Œå ç©ºæ¯”çš„<strong>PWMæ³¢å½¢</strong></p>
</li>
<li>
<p>æ¯ä¸ªé«˜çº§å®šæ—¶å™¨å’Œé€šç”¨å®šæ—¶å™¨éƒ½æ‹¥æœ‰4ä¸ªè¾“å‡ºæ¯”è¾ƒé€šé“</p>
</li>
<li>
<p>é«˜çº§å®šæ—¶å™¨çš„å‰3ä¸ªé€šé“é¢å¤–æ‹¥æœ‰æ­»åŒºç”Ÿæˆå’Œäº’è¡¥è¾“å‡ºçš„åŠŸèƒ½</p>
</li>
<li>
<p>OCï¼š<strong>è¾“å‡ºæ¯”è¾ƒ</strong></p>
</li>
<li>
<p>ICï¼š<strong>è¾“å…¥æ¯”è¾ƒ</strong></p>
</li>
<li>
<p>CCï¼š<strong>è¾“å…¥/è¾“å‡ºæ¯”è¾ƒ</strong></p>
</li>
</ul>
<h3 id="pwmæ³¢å½¢">PWMæ³¢å½¢</h3>
<ul>
<li>PWMï¼ˆPulse Width Modulationï¼‰è„‰å†²å®½åº¦è°ƒåˆ¶ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§ç”µå­å’Œç”µæ°”ç³»ç»Ÿä¸­ï¼Œç”¨äºæ§åˆ¶åŠŸç‡è½¬æ¢ã€ç”µæœºé€Ÿåº¦ã€ä¿¡å·ä¼ è¾“ç­‰</li>
<li>åœ¨å…·æœ‰<a href="%E6%83%AF%E6%80%A7%E7%9A%84%E7%B3%BB%E7%BB%9F">^1</a>ä¸­ï¼Œå¯ä»¥é€šè¿‡å¯¹ä¸€ç³»åˆ—è„‰å†²çš„å®½åº¦è¿›è¡Œè°ƒåˆ¶ï¼Œæ¥ç­‰æ•ˆåœ°è·å¾—æ‰€éœ€è¦çš„æ¨¡æ‹Ÿå‚é‡ï¼Œå¸¸åº”ç”¨äºç”µæœºæ§é€Ÿç­‰é¢†åŸŸ
<a href="%E4%BE%8B%E5%A6%82%E7%94%B5%E6%9C%BA%E8%BD%AC%E5%8A%A8%E6%9A%82%E5%81%9C%E5%90%8E%E4%B8%8D%E4%BC%9A%E9%A9%AC%E4%B8%8A%E5%81%9C%E6%AD%A2%EF%BC%8C%E8%80%8C%E6%98%AF%E8%BF%87%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E6%89%8D%E4%BC%9A%E5%81%9C%E6%AD%A2%E3%80%82">^1</a></li>
<li>PWMå‚æ•°ï¼š
<ul>
<li>é¢‘ç‡ = 1 / TS</li>
<li>å ç©ºæ¯” = TON / TS</li>
<li>åˆ†è¾¨ç‡ = å ç©ºæ¯”å˜åŒ–æ­¥è·
<a href="#R-image-267aff8b287bad807311a46c0fb8b6f1" class="lightbox-link"><img alt="PWM" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-31.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-267aff8b287bad807311a46c0fb8b6f1"><img alt="PWM" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-31.png"></a>
ä¸€äº›ç”µå¹³å˜åŒ–å›¾å¯ä»¥ç­‰æ•ˆä¸ºå›¾ä¸­çš„è™šçº¿ã€‚
<a href="#R-image-88459e8b214501b1d1cf3a0a2a594057" class="lightbox-link"><img alt="ä¿¡æ¯" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-30.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-88459e8b214501b1d1cf3a0a2a594057"><img alt="ä¿¡æ¯" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-30.png"></a></li>
</ul>
</li>
</ul>
<p><a href="#R-image-92bd45cb7df7c2285da27b6260b08dc9" class="lightbox-link"><img alt="é€šç”¨å®šæ—¶å™¨ç»“æ„å›¾" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-33.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-92bd45cb7df7c2285da27b6260b08dc9"><img alt="é€šç”¨å®šæ—¶å™¨ç»“æ„å›¾" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-33.png"></a>
ä¸Šå›¾æ¡†å‡ºæ¥çš„éƒ¨åˆ†å…·ä½“å¦‚ä¸‹å›¾ï¼š
<a href="#R-image-3dc0963bfbc4742e7335091dd815f20e" class="lightbox-link"><img alt="æ•è·/æ¯”è¾ƒé€šé“çš„è¾“å‡ºéƒ¨åˆ†" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-32.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3dc0963bfbc4742e7335091dd815f20e"><img alt="æ•è·/æ¯”è¾ƒé€šé“çš„è¾“å‡ºéƒ¨åˆ†" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-32.png"></a></p>
<p>åœ¨ä¿¡å·é€šè¿‡æ¯”è¾ƒåè¾“å‡ºåˆ°CC1Pï¼Œç„¶åå†è¾“å‡ºåˆ°è¾“å‡ºä½¿ç”¨ç”µè·¯ï¼Œè¾“å‡ºä½¿ç”¨ç”µè·¯çš„OC1å¯ä»¥æŸ¥çœ‹<strong>å¼•è„šå®šä¹‰è¡¨</strong></p>
<p>åœ¨ä¸Šå›¾ä¸­éœ€è¦æ³¨æ„çš„ä¸€äº›å¼•æ–‡ç¼©å†™ï¼š</p>
<ul>
<li><strong>REF</strong> æ˜¯referenceçš„ç¼©å†™ã€‚æ„æ€æ˜¯ <strong>å‚è€ƒä¿¡å·</strong></li>
</ul>
<h3 id="è¾“å‡ºæ¯”è¾ƒçš„è®¾ç½®">è¾“å‡ºæ¯”è¾ƒçš„è®¾ç½®</h3>
<p>è®¾ç½®çš„å‡½æ•°ä¸º</p>
<p><a href="#R-image-9c9752f9d381177d367e1597c8338e4d" class="lightbox-link"><img alt="æ¨¡å¼" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-34.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9c9752f9d381177d367e1597c8338e4d"><img alt="æ¨¡å¼" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-34.png"></a></p>
<h3 id="pwmåŸºæœ¬ç»“æ„">PWMåŸºæœ¬ç»“æ„</h3>
<p>é…ç½®PWMçš„æ—¶å€™å¯ä»¥å‚è€ƒä¸‹é¢çš„å›¾ï¼Œ
<a href="#R-image-f38315008cbc624e412f5216334e4147" class="lightbox-link"><img alt="ç»“æ„å›¾" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-35.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f38315008cbc624e412f5216334e4147"><img alt="ç»“æ„å›¾" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-35.png"></a>
å›¾ä¸­çš„å‚è€ƒåæ ‡ç³»å›¾çº¢è‰²çº¿è¡¨ç¤ºCCRçš„å€¼ï¼Œè“è‰²çº¿è¡¨ç¤ºCNTçš„å€¼ï¼Œé»„è‰²çº¿è¡¨ç¤ºè‡ªåŠ¨é‡è£…è½½å€¼å³ARRã€‚
äº†è§£äº†è¿™ç‚¹åæˆ‘ä»¬å†çœ‹çœ‹PWMçš„æ˜¯å¦‚ä½•è®¡ç®—çš„ï¼Œå¦‚ä¸‹å…¬å¼</p>
<p><strong>PWMé¢‘ç‡ï¼š</strong>
[ \text{Freq} = \frac{CKPSC}{(PSC + 1) \times (ARR + 1)} ]
å¯ä»¥çœ‹å‡ºPWMçš„é¢‘ç‡ç­‰äºCNTçš„æ›´æ–°é¢‘ç‡</p>
<p><strong>PWMå ç©ºæ¯”ï¼š</strong>
[ \text{Duty} = \frac{CCR}{(ARR + 1)} ]</p>
<p><strong>PWMåˆ†è¾¨ç‡ï¼š</strong>
[ \text{Reso} = \frac{1}{(ARR + 1)} ]</p>
<h3 id="ä»£ç ç¼–å†™">ä»£ç ç¼–å†™</h3>
<p><a href="#R-image-85b5757a9ba411d8976c9f4a2758284c" class="lightbox-link"><img alt="é«˜çº§å®šæ—¶å™¨" class="lazy lightbox figure-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-36.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-85b5757a9ba411d8976c9f4a2758284c"><img alt="é«˜çº§å®šæ—¶å™¨" class="lazy lightbox lightbox-image" loading="lazy" src="/Wungmeisilong/hugoBlog_pub.git/projects/%E7%94%B5%E8%B5%9B/image-36.png"></a></p>
<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> é™„ä»¶</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> 2024å¹´5æœˆ14æ—¥
<div class="R-taxonomy taxonomy-categories cstyle" title="ç±»åˆ«" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/Wungmeisilong/hugoBlog_pub.git/categories/b5-%E6%AF%94%E8%B5%9B/">B5-æ¯”èµ›</a></li>
    <li><a class="term-link" href="/Wungmeisilong/hugoBlog_pub.git/categories/x1-%E9%A1%B9%E7%9B%AE/">X1-é¡¹ç›®</a></li>
  </ul>
</div>
  </footer>
</article>
        </div>
      </main>
    </div>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/clipboard/clipboard.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/perfect-scrollbar/perfect-scrollbar.min.js?1744078837" defer></script>
    <script src="/Wungmeisilong/hugoBlog_pub.git/js/theme.js?1744078837" defer></script>
  </body>
</html>
