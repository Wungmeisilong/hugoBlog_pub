# 8.如何用旧电脑搭建自己的服务器？

拥有一个属于自己的服务器个人感觉就很赞，我最初是在不买公网IP情况下，用一台电脑做服务器，然后另外一台电脑可以远程访问，部署网站，然后别人可以访问这个网站，这样一个功能。如果你也有这样的想法还请阅读下去，希望自己的经验对你有所帮助。

## 所需设备

一台旧电脑，一台目前在使用的电脑。

## 在旧电脑上安装natapp程序

在百度上搜索NATAPP，或点击这个链接:[NATAPP](https://natapp.cn/),

![网站首页面](屏幕截图%202024-02-02%20113627.png)

进入网站后先简单注册一下用户,顺便实名认证一下，因为买隧道会提示需要实名，接着点击首页下载自己的电脑系统对应版本，我的是Windows（下面的测试也是基于Windows）

![下载页面](图1.png)

下载好后解压文件，得到如下图程序：

![下载页面](图2.png)

在解压文件下新建一个文件： `config.ini`,做好这一步后我们去购买免费的隧道，如下图：

![下载页面](图3.png)

点击网站的文档，然后点击教程/文档里的 **使用本地配置文件config.ini** 文章，

![下载页面](图6.png)

然后复制里面的配置信息：

![下载页面](图7.png)

```config.ini
#将本文件放置于natapp同级目录 程序将读取 [default] 段
#在命令行参数模式如 natapp -authtoken=xxx 等相同参数将会覆盖掉此配置
#命令行参数 -config= 可以指定任意config.ini文件
[default]
authtoken=                      #对应一条隧道的authtoken
clienttoken=                    #对应客户端的clienttoken,将会忽略authtoken,若无请留空,
log=none                        #log 日志文件,可指定本地文件, none=不做记录,stdout=直接屏幕输出 ,默认为none
loglevel=ERROR                  #日志等级 DEBUG, INFO, WARNING, ERROR 默认为 DEBUG
http_proxy=                     #代理设置 如 http://10.123.10.10:3128 非代理上网用户请务必留空

```

在字段`authtoken`后面值在我的隧道配置里可以找到，如下：

![下载页面](图4.png)

复制下图`authtoken`的值填到config.ini文件里

![下载页面](图5.png)

我这边演示的效果如下：

![下载页面](图8.png)
![下载页面](图9.png)

完成上面的操作后，我们运行NATAPP程序，结果如下：

![下载页面](图10.png)

你会得到一个随机的网址，这个网址指向你的本地端口，当你有网站挂载到本地端口时，你就可以通过网址访问到你的本地端口网址，内网外网都可以，但是这个网址每一次运行都会不一样，这点需要注意，然后就是端口的设置，看下图：

![下载页面](图5.png)

我这里写的的端口是1313，如果你网站运行后不在1313，例如你运行网站后，本地的网站启动端口是8080.那你就把这个地方的1313改为8080就可以了。

下面我们举个例子看看，假设我现在我需要外网的网友访问我挂在在自己电脑本地的网站，那们在做好上面的操作后我先去启动自己的网站，这里使用hugo的网站模版，用code程序打开网站模版，然后调出终端，在终端输入命令 `hugo server` ,表示启动网站，如下图：

![下载页面](图11.png)

然后去复制刚才运行NATAPP程序后的网站，在浏览器中打开，我们先试一下局域网能不能访问，结果如下：

![下载页面](图12.png)

将网站发给自己的朋友，测试外网是否可以访问，

![下载页面](图13.png)

结果是外网可以正常可以访问。

![下载页面](图14.png)

那么到这里你的电脑其实就充当了一台服务器，将网站放到了你电脑上，只要你的电脑保持开机状态那么别人就可以一直访问你的网站，或许NATAPP网站还有别的有趣功能，所以你不妨去摸索摸索，所不定可以找到多次启动NATAPP指向你本地的网址不变，你也就不用每次启动后都要发新的网址给对方了。

那么其实到这里就差不多了，但是我们还需要用一台电脑控制另一台电脑，简而言之就是电脑的远程登录，其实电脑远程登录有许多的方法，这里我需要借助一个来实现内网穿透，其实上面的旧电脑变服务器也是使用了内网穿透，
{{% attachments color="fuchsia" icon="fab fa-hackerrank" /%}}