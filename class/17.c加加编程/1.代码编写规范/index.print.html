<!DOCTYPE html>
<html lang="zh" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.145.0">
    <meta name="generator" content="Relearn 7.6.1">
    <meta name="description" content="å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„.hæ–‡ä»¶ ä»¥ä¸‹å†…å®¹æ¥è‡ªBç«™ã€‚
æ¥ä¸‹æ¥å°†ä»¥å¤æ•°çš„åº“æ–‡ä»¶ä¸ºä¾‹æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æ˜¯ä¸€æ®µå‚è€ƒå¤æ•°åº“æ–‡ä»¶ä»£ç ï¼š
class complex { private: /* data */ double re,im; friend complex&amp; __doapl (complex*,const complex&amp;); public: complex (double r,double i) :re(r),im(i) //è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ„æ€æ˜¯åˆå§‹åŒ–å˜é‡ {}; complex&amp; operator &#43;= (complex operator&amp;); double read () const {return re;} //è¿™é‡Œéœ€è¦åŠ const æ„æ€å°±æ˜¯ä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ï¼Œä¸å…è®¸æ”¹å˜è¿”å›å€¼ç±»å‹ double imag () const {return im;} };æ„é€ å‡½æ•°çš„ç‰¹æ€§ è¿™ä¸€ç‚¹éœ€è¦å…³æ³¨ä¸‹é¢çš„ä»£ç ï¼š">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown">
    <meta name="twitter:description" content="å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„.hæ–‡ä»¶ ä»¥ä¸‹å†…å®¹æ¥è‡ªBç«™ã€‚
æ¥ä¸‹æ¥å°†ä»¥å¤æ•°çš„åº“æ–‡ä»¶ä¸ºä¾‹æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æ˜¯ä¸€æ®µå‚è€ƒå¤æ•°åº“æ–‡ä»¶ä»£ç ï¼š
class complex { private: /* data */ double re,im; friend complex&amp; __doapl (complex*,const complex&amp;); public: complex (double r,double i) :re(r),im(i) //è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ„æ€æ˜¯åˆå§‹åŒ–å˜é‡ {}; complex&amp; operator &#43;= (complex operator&amp;); double read () const {return re;} //è¿™é‡Œéœ€è¦åŠ const æ„æ€å°±æ˜¯ä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ï¼Œä¸å…è®¸æ”¹å˜è¿”å›å€¼ç±»å‹ double imag () const {return im;} };æ„é€ å‡½æ•°çš„ç‰¹æ€§ è¿™ä¸€ç‚¹éœ€è¦å…³æ³¨ä¸‹é¢çš„ä»£ç ï¼š">
    <meta property="og:url" content="http://localhost:1313/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/">
    <meta property="og:site_name" content="Maloudown">
    <meta property="og:title" content="1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown">
    <meta property="og:description" content="å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„.hæ–‡ä»¶ ä»¥ä¸‹å†…å®¹æ¥è‡ªBç«™ã€‚
æ¥ä¸‹æ¥å°†ä»¥å¤æ•°çš„åº“æ–‡ä»¶ä¸ºä¾‹æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æ˜¯ä¸€æ®µå‚è€ƒå¤æ•°åº“æ–‡ä»¶ä»£ç ï¼š
class complex { private: /* data */ double re,im; friend complex&amp; __doapl (complex*,const complex&amp;); public: complex (double r,double i) :re(r),im(i) //è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ„æ€æ˜¯åˆå§‹åŒ–å˜é‡ {}; complex&amp; operator &#43;= (complex operator&amp;); double read () const {return re;} //è¿™é‡Œéœ€è¦åŠ const æ„æ€å°±æ˜¯ä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ï¼Œä¸å…è®¸æ”¹å˜è¿”å›å€¼ç±»å‹ double imag () const {return im;} };æ„é€ å‡½æ•°çš„ç‰¹æ€§ è¿™ä¸€ç‚¹éœ€è¦å…³æ³¨ä¸‹é¢çš„ä»£ç ï¼š">
    <meta property="og:locale" content="zh">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown">
    <meta itemprop="description" content="å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„.hæ–‡ä»¶ ä»¥ä¸‹å†…å®¹æ¥è‡ªBç«™ã€‚
æ¥ä¸‹æ¥å°†ä»¥å¤æ•°çš„åº“æ–‡ä»¶ä¸ºä¾‹æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æ˜¯ä¸€æ®µå‚è€ƒå¤æ•°åº“æ–‡ä»¶ä»£ç ï¼š
class complex { private: /* data */ double re,im; friend complex&amp; __doapl (complex*,const complex&amp;); public: complex (double r,double i) :re(r),im(i) //è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ„æ€æ˜¯åˆå§‹åŒ–å˜é‡ {}; complex&amp; operator &#43;= (complex operator&amp;); double read () const {return re;} //è¿™é‡Œéœ€è¦åŠ const æ„æ€å°±æ˜¯ä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ï¼Œä¸å…è®¸æ”¹å˜è¿”å›å€¼ç±»å‹ double imag () const {return im;} };æ„é€ å‡½æ•°çš„ç‰¹æ€§ è¿™ä¸€ç‚¹éœ€è¦å…³æ³¨ä¸‹é¢çš„ä»£ç ï¼š">
    <meta itemprop="datePublished" content="2024-10-15T19:54:02+08:00">
    <meta itemprop="dateModified" content="2024-10-15T19:54:02+08:00">
    <meta itemprop="wordCount" content="3242">
    <meta itemprop="keywords" content="C&#43;&#43;">
    <title>1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown</title>
    <link href="http://localhost:1313/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/" rel="canonical" type="text/html" title="1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown">
    <link href="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/index.xml" rel="alternate" type="application/rss+xml" title="1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown">
    <link href="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/index.md" rel="alternate" type="text/markdown" title="1.ä»£ç ç¼–å†™è§„èŒƒ :: Maloudown">
    <link href="/images/favicon.svg?1744055979" rel="icon" type="image/svg+xml">
    <link href="/fonts/fontawesome/css/fontawesome-all.min.css?1744055979" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/fonts/fontawesome/css/fontawesome-all.min.css?1744055979" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar/perfect-scrollbar.min.css?1744055979" rel="stylesheet">
    <link href="/css/theme.css?1744055979" rel="stylesheet">
    <link href="/css/format-print.css?1744055979" rel="stylesheet" id="R-format-style">
    <link href="/css/auto-complete/auto-complete.min.css?1744055979" rel="stylesheet">
    <script src="/js/auto-complete/auto-complete.min.js?1744055979" defer></script>
    <script src="/js/lunr/lunr.min.js?1744055979" defer></script>
    <script src="/js/lunr/lunr.stemmer.support.min.js?1744055979" defer></script>
    <script src="/js/lunr/lunr.multi.min.js?1744055979" defer></script>
    <script src="/js/lunr/lunr.zh.min.js?1744055979" defer></script>
    <script src="/js/search.js?1744055979" defer></script>
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/class\/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B\/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83\/';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.relearn.contentLangs=['zh'];
      window.relearn.index_js_url="/searchindex.zh.js?1744055979";
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=false;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // variant stuff
      window.relearn.themevariants = [ 'auto', 'relearn-light', 'red' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `å¤åˆ¶åˆ°å‰ªè´´æ¿`;
      window.T_Copied_to_clipboard = `å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`;
      window.T_Copy_link_to_clipboard = `å°†é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿`;
      window.T_Link_copied_to_clipboard = `é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼`;
      window.T_Reset_view = `é‡ç½®è§†å›¾`;
      window.T_View_reset = `æŸ¥çœ‹é‡ç½®ï¼`;
      window.T_No_results_found = `æ‰¾ä¸åˆ°"{0}"çš„ç»“æœ`;
      window.T_N_results_found = `ä¸º"{0}"æ‰¾åˆ° {1} ä¸ªç»“æœ`;
    </script>
<style>
  :root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 18.75rem;
    --color-primary: #2c3e50;           
    --color-background-light: #f8f9fa;  
  }
   
  .cornell-notes {
    padding: 10px;
    margin: 10px;
    display: flex;
    flex-wrap: wrap;
  }

  .cues {
    background-image: url('/images/cornell-img/icon2.svg');
    border-right: 1px solid #080808;
    flex: 1;
    padding-right: 20px;
  }

  .notes {
    background-image: url('/images/cornell-img/icon1.svg');
    border-left: 1px solid #080808;
    flex: 2;
    padding-left: 20px;
  }

  .summary {
    width: 100%;
    clear: both;
    padding-top: 20px;
    background-image: url('/images/cornell-img/iconmonstr-menu-lined.svg');
    margin-top: 20px;
  }

   
  .svg-container {
    width: 100%; 
    height: 40px;  
    margin-bottom: 1rem;
  }
  
   
  .svg-container svg {
    width: 100%;
    height: 100%;
    fill: currentColor;  
  }
  </style>

  </head>
  <body class="mobile-support print" data-url="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="å¯¼èˆª (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="ç›®å½• (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„hæ–‡ä»¶">å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„.hæ–‡ä»¶</a></li>
    <li><a href="#æ„é€ å‡½æ•°çš„ç‰¹æ€§">æ„é€ å‡½æ•°çš„ç‰¹æ€§</a></li>
    <li><a href="#å…³äºconstä¿®é¥°ç¬¦">å…³äºconstä¿®é¥°ç¬¦</a></li>
    <li><a href="#å‡½æ•°ä¼ é€’å’Œè¿”å›å€¼çš„ä¸¤ç§æ–¹å¼">å‡½æ•°ä¼ é€’å’Œè¿”å›å€¼çš„ä¸¤ç§æ–¹å¼</a></li>
    <li><a href="#æ“ä½œç¬¦é‡è½½-1æˆå‘˜å‡½æ•°">æ“ä½œç¬¦é‡è½½-1ï¼šæˆå‘˜å‡½æ•°</a></li>
    <li><a href="#æ“ä½œç¬¦é‡è½½-2éæˆå‘˜å‡½æ•°">æ“ä½œç¬¦é‡è½½-2ï¼šéæˆå‘˜å‡½æ•°</a></li>
    <li><a href="#å°ç»“">å°ç»“</a></li>
    <li><a href="#æ¥ä¸‹æ¥é€šè¿‡å­¦ä¹ stringhåº“è¿›ä¸€æ­¥äº†è§£æŒ‡é’ˆçš„ä½¿ç”¨">æ¥ä¸‹æ¥é€šè¿‡å­¦ä¹ string.håº“ï¼Œè¿›ä¸€æ­¥äº†è§£æŒ‡é’ˆçš„ä½¿ç”¨</a></li>
    <li><a href="#stackæ ˆå’Œheapå †">stackï¼ˆæ ˆï¼‰å’Œheapï¼ˆå †ï¼‰</a>
      <ul>
        <li><a href="#stack-object-çš„ç”Ÿå‘½å‘¨æœŸ">stack object çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
        <li><a href="#static-local-object-çš„ç”Ÿå‘½å‘¨æœŸ">static local object çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
        <li><a href="#global-objects-ç”Ÿå‘½å‘¨æœŸ">global objects ç”Ÿå‘½å‘¨æœŸ</a></li>
        <li><a href="#è°ƒç”¨newå’Œdeleteçš„è¿‡ç¨‹">è°ƒç”¨newå’Œdeleteçš„è¿‡ç¨‹</a></li>
      </ul>
    </li>
    <li><a href="#newå’Œdeleteçš„è¡¥å……">newå’Œdeleteçš„è¡¥å……</a>
      <ul>
        <li><a href="#é‡è½½newdelete">é‡è½½::new,::delete</a></li>
        <li><a href="#ç±»ä¸­é‡è½½çš„newå’Œdelete">ç±»ä¸­é‡è½½çš„newå’Œdelete</a></li>
        <li><a href="#ç±»ä¸­é‡è½½çš„newå’Œdelete-1">ç±»ä¸­é‡è½½çš„new[]å’Œdelete[]</a></li>
      </ul>
    </li>
    <li><a href="#newdeleteä½¿ç”¨ç¤ºä¾‹">new,deleteä½¿ç”¨ç¤ºä¾‹</a>
      <ul>
        <li><a href="#ä¸ºä»€ä¹ˆnewæ“ä½œä¼šå¤šå‡º8ä¸ªå­—èŠ‚å‘¢">ä¸ºä»€ä¹ˆnew[]æ“ä½œä¼šå¤šå‡º8ä¸ªå­—èŠ‚å‘¢ï¼Ÿ</a></li>
      </ul>
    </li>
    <li><a href="#å¯¹newçš„åˆ†é…é¢å¤–å†…å­˜">å¯¹newçš„åˆ†é…é¢å¤–å†…å­˜</a></li>
    <li><a href="#å°ç»“-1">å°ç»“</a></li>
    <li><a href="#è¡¥å……å†…å®¹static">è¡¥å……å†…å®¹static</a>
      <ul>
        <li><a href="#staticåœ¨privateä¸­çš„ä½¿ç”¨ä¾‹å­">staticåœ¨privateä¸­çš„ä½¿ç”¨ä¾‹å­</a></li>
        <li><a href="#class-template">class template</a></li>
        <li><a href="#function-template">function template</a></li>
        <li><a href="#member-template-æˆå‘˜æ¨¡æ¿">member template æˆå‘˜æ¨¡æ¿</a></li>
        <li><a href="#namespaceå‘½ä»¤ç©ºé—´">namespaceï¼ˆå‘½ä»¤ç©ºé—´ï¼‰</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/"><span itemprop="name">æŠ€æœ¯åšå®¢ | æ™ºèƒ½ç‰©è”æ—¶ä»£</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/class/"><span itemprop="name">è¯¾ç¨‹</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/"><span itemprop="name">17.CåŠ åŠ ç¼–ç¨‹</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li>
            <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">1.ä»£ç ç¼–å†™è§„èŒƒ</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-markdown" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/index.md" title="æ˜¾ç¤º Markdown"><i class="fa-fw fab fa-markdown"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/index.print.html" title="æ‰“å°æ•´ç«  (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/2.%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/" title="2.ç»„åˆä¸ç»§æ‰¿ (ğŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/class/21.c%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%90%AB%E9%9D%A2%E8%AF%95/" title="21.Cè¯­è¨€ç¨‹åºè®¾è®¡ï¼ˆå«é¢è¯•ï¼‰ (ğŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="æ›´å¤š"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable class" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="æ ‡ç­¾" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="/tags/c&amp;#43;&amp;#43;/">C&#43;&#43;</a></li>
  </ul>
</div>
  </header>

<h1 id="1ä»£ç ç¼–å†™è§„èŒƒ">1.ä»£ç ç¼–å†™è§„èŒƒ</h1>

<h2 id="å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„hæ–‡ä»¶">å¦‚ä½•å†™ä¸€ä¸ªæ ‡å‡†çš„.hæ–‡ä»¶</h2>
<p>ä»¥ä¸‹å†…å®¹æ¥è‡ª<a href="https://www.bilibili.com/video/BV1ELHEewEms/?p=6&spm_id_from=pageDriver&vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" rel="external" target="_blank">Bç«™</a>ã€‚</p>
<p>æ¥ä¸‹æ¥å°†ä»¥å¤æ•°çš„åº“æ–‡ä»¶ä¸ºä¾‹æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œä¸‹é¢æ˜¯ä¸€æ®µå‚è€ƒå¤æ•°åº“æ–‡ä»¶ä»£ç ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">complex</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* data */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> re,im;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">friend</span> complex<span style="color:#f92672">&amp;</span> __doapl (complex<span style="color:#f92672">*</span>,<span style="color:#66d9ef">const</span> complex<span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    complex (<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>re(r),im(i)                <span style="color:#75715e">//è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ„æ€æ˜¯åˆå§‹åŒ–å˜é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {};
</span></span><span style="display:flex;"><span>    complex<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span> <span style="color:#f92672">+=</span> (complex <span style="color:#66d9ef">operator</span><span style="color:#f92672">&amp;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">read</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> re;}  <span style="color:#75715e">//è¿™é‡Œéœ€è¦åŠ const æ„æ€å°±æ˜¯ä¿®é¥°å‡½æ•°çš„è¿”å›å€¼ï¼Œä¸å…è®¸æ”¹å˜è¿”å›å€¼ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> im;}
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<h2 id="æ„é€ å‡½æ•°çš„ç‰¹æ€§">æ„é€ å‡½æ•°çš„ç‰¹æ€§</h2>
<p>è¿™ä¸€ç‚¹éœ€è¦å…³æ³¨ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>complex (<span style="color:#66d9ef">double</span> r,<span style="color:#66d9ef">double</span> i)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span>re(r),im(i)                <span style="color:#75715e">//è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ„æ€æ˜¯åˆå§‹åŒ–å˜é‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {};</span></span></code></pre></div>
<h2 id="å…³äºconstä¿®é¥°ç¬¦">å…³äºconstä¿®é¥°ç¬¦</h2>
<p>å¦‚ä¸Šé¢è¯´åˆ°çš„ï¼Œå‡½æ•°è¿”å›æœ€å¥½æ˜¯åŠ constï¼Œè¿™æ ·å¯ä»¥åº”ä»˜ä¸‹é¢æƒ…å†µçš„å‘ç”Ÿã€‚</p>
<div class="tab-panel" data-tab-group="9f3a16bfb0487771084f9d4c84621404">
  <div class="tab-nav">
    <div class="tab-nav-title">constçš„ä½¿ç”¨</div>
    <button
      data-tab-item="åŠ constfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('9f3a16bfb0487771084f9d4c84621404','åŠ constfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> åŠ const</span>
    </button>
    <button
      data-tab-item="ä¸åŠ constfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;"
      onclick="switchTab('9f3a16bfb0487771084f9d4c84621404','ä¸åŠ constfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> ä¸åŠ const</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="åŠ constfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">read</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> re;}  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> () <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> im;}</span></span></code></pre></div>
<p>æ­¤æ—¶åšå¦‚ä¸‹ä¸¤ç§ä½¿ç”¨éƒ½æ˜¯æ­£ç¡®çš„</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="ä¸åŠ constfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">read</span> ()  {<span style="color:#66d9ef">return</span> re;}  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">imag</span> ()  {<span style="color:#66d9ef">return</span> im;}</span></span></code></pre></div>
<p>æ­¤æ—¶åšå¦‚ä¸‹ä¸¤ç§ä½¿ç”¨åªæœ‰ç¬¬ä¸€ç§å¯ä»¥è¢«æ‰§è¡Œï¼Œç¬¬äºŒç§ä¼šæŠ¥é”™ã€‚</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>    cout<span style="color:#f92672">&lt;&lt;</span>com1.real()<span style="color:#f92672">&lt;&lt;</span>endl;</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<h2 id="å‡½æ•°ä¼ é€’å’Œè¿”å›å€¼çš„ä¸¤ç§æ–¹å¼">å‡½æ•°ä¼ é€’å’Œè¿”å›å€¼çš„ä¸¤ç§æ–¹å¼</h2>
<p>pass by values:ä¼ å€¼ã€‚åœ¨ä¼ è¾“çš„äº‹å•å­—èŠ‚æˆ–è€…å­—èŠ‚æ•°è¾ƒå°‘çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œæ¯”å¦‚ä¼ ä¸€ä¸ªå­—ç¬¦ã€‚</p>
<p>pass by reference:ä¼ å¼•ç”¨ã€‚åœ¨C++ä¸­å¼•ç”¨çš„åº•å±‚é€»è¾‘å°±æ˜¯ä¼ æŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯ç±»ä¼¼ç©¿äº†åœ°å€ï¼Œä¹Ÿå°±æ˜¯åªä¼ è¾“4ä¸ªå­—èŠ‚ï¼Œ
åœ¨è¿™ç§æƒ…å†µä¸‹ä½ å¯ä»¥ä½¿ç”¨constä¿®é¥°ç¬¦ï¼Œè¿«ä½¿å‡½æ•°ä¸èƒ½ä¿®æ”¹å€¼ï¼Œå¦‚æœå¸Œæœ›å‡½æ•°å¯¹å€¼è¿›è¡Œå¤„ç†åˆ™å¯ä»¥ä¸åŠ </p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">re</span>(<span style="color:#66d9ef">const</span> classname<span style="color:#f92672">&amp;</span> cl){};<span style="color:#75715e">//åŠ äº†const
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">re</span>(classname cl){};<span style="color:#75715e">//æ²¡æœ‰åŠ const
</span></span></span></code></pre></div>
<p>å¯¹äºè¿”å›å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥è¿”å›å¼•ç”¨ï¼Œä½†ä»€ä¹ˆæƒ…å†µä¸‹è¿”å›çš„æ˜¯å¼•ç”¨å‘¢ï¼Ÿ</p>
<p>åœ¨è®¾è®¡ç±»ä¸­çš„å‡½æ•°æ—¶ï¼Œå¯ä»¥å…ˆè€ƒè™‘è¿”å›ç±»å‹é€‚ä¸é€‚åˆ<code>å¼•ç”¨</code>,å¦‚æœè¿”å›çš„æ˜¯å·²ç»å­˜åœ¨çš„åœ°å€ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©è¿”å›ç±»å‹ä¸ºå¼•ç”¨ï¼Œå¦åˆ™ä¸ä½¿ç”¨ã€‚</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">inline</span> complex<span style="color:#f92672">&amp;</span>
</span></span><span style="display:flex;"><span>        __ap(complex <span style="color:#f92672">*</span> <span style="color:#66d9ef">this</span> ,<span style="color:#66d9ef">const</span> complex <span style="color:#f92672">&amp;</span> c){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>re <span style="color:#f92672">+=</span> c.re;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">-&gt;</span>im <span style="color:#f92672">+=</span> c.im;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>        }</span></span></code></pre></div>
<p>å‘ä¸Šé¢çš„å‡½æ•°å°±æ˜¯ä½¿ç”¨äº†å¼•ç”¨è¿”å›ã€‚</p>
<h2 id="æ“ä½œç¬¦é‡è½½-1æˆå‘˜å‡½æ•°">æ“ä½œç¬¦é‡è½½-1ï¼šæˆå‘˜å‡½æ•°</h2>
<p><a href="#R-image-0da4e598a912c341bb10a4fd5c77d5a7" class="lightbox-link"><img alt="æ“ä½œç¬¦é‡è½½" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0da4e598a912c341bb10a4fd5c77d5a7"><img alt="æ“ä½œç¬¦é‡è½½" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image.png"></a></p>
<h2 id="æ“ä½œç¬¦é‡è½½-2éæˆå‘˜å‡½æ•°">æ“ä½œç¬¦é‡è½½-2ï¼šéæˆå‘˜å‡½æ•°</h2>
<p>å‡è®¾ç°åœ¨è¦è®¡ç®—å¤æ•°çš„åŠ å‡ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com1</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    complex <span style="color:#a6e22e">com2</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">9</span>);
</span></span><span style="display:flex;"><span>    complex com3;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    com3 <span style="color:#f92672">=</span> com1 <span style="color:#f92672">+</span> com2;
</span></span><span style="display:flex;"><span>    com3 <span style="color:#f92672">=</span> com1 <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    com3 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">+</span> com2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span></span></span></code></pre></div>
<p>å¯¹äºè¿™æ®µä»£ç åœ¨åº“æ–‡ä»¶ä¸­ï¼Œè¦å¯¹åŠ æ³•åšéæˆå‘˜å‡½æ•°é‡è½½ï¼Œä»¥åº”ä»˜ ä¸åŒçš„æƒ…å†µã€‚</p>
<p>æ¥ä¸‹æ¥åœ¨è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯åš<code>cout&lt;&lt;com1;</code>é‚£ä¹ˆå¯¹äº&laquo;å‡½æ•°è¿”å›å€¼å¯ä»¥æ˜¯voidç±»,ä½†æ˜¯å¦‚æœæˆ‘ä»¬åšçš„æ˜¯<code>cout&lt;&lt;com1&lt;&lt;com2&lt;&lt;endl;</code>
è¿™æ ·çš„æ“ä½œè¿”å›ç±»å‹ä¸ºvoidç±»å‹ï¼Œé‚£ä¹ˆå½“è¿è¡Œ<code>cout&lt;&lt;com1</code>åå°±æ— æ³•è¿è¡Œ<code>&lt;&lt;com2&lt;&lt;endl</code>çš„ä»£ç .</p>
<p>å¾ˆæ˜¾ç„¶è¦è®©ä»£ç ç»§ç»­è¿è¡Œï¼Œæˆ‘ä»¬è¿˜éœ€è¦è¿”å›iostreamç±»å‹ï¼Œè€Œä¸”ä½¿ç”¨<code>return by reference</code>è¿”å›æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¿”å›å¼•ç”¨ã€‚å¦‚ä¸‹å›¾ï¼š
<a href="#R-image-26da82efddc9ed9268a2267729ba20f1" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-26da82efddc9ed9268a2267729ba20f1"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-1.png"></a></p>
<h2 id="å°ç»“">å°ç»“</h2>
<p>é€šè¿‡ä»¥ä¸Šçš„ç®€å•è®²è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“ä¸€ä¸‹ï¼Œå†å†™ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>ç¡®å®šç±»çš„æ•°æ®å¹¶å†™åœ¨privateä¸­;</li>
<li>å¯¹äºæ„é€ å‡½æ•°è¦å–„äºä½¿ç”¨åˆå§‹åŒ–æ•°æ®æ–¹æ³•ï¼›</li>
<li>å¯¹äºå‡½æ•°è¦æƒ³ä¸€æƒ³ï¼Œè¿”å›ç±»å‹æ˜¯å¦å¯ä»¥æ”¹å˜ï¼Œè¦ä¸è¦å†™constï¼›</li>
<li>å¯¹äºå‡½æ•°ç±»å‹å’Œè¿”å›å€¼ï¼Œè¦ä¼ å€¼è¿˜æ˜¯ä¼ å¼•ç”¨ï¼Œè¦è¿”å›å€¼è¿˜æ˜¯è¿”å›å¼•ç”¨ã€‚</li>
</ul>
<p>æ˜¯å¦è¿”å›å¼•ç”¨æœ€æœ€å¥½çš„åˆ¤æ–­æ ‡å‡†å°±æ˜¯ï¼Œå€¼åœ¨ç»è¿‡å‡½æ•°è¿ç®—åå­˜å‚¨åœ¨å‡½æ•°å¤–ï¼Œæˆ–è¯´æ˜¯ä¸€ä¸ªä»¥å­˜åœ¨çš„å­˜å‚¨åœ°å€ï¼Œå¦åˆ™ä¸è¿”å›å¼•ç”¨</p>
<h2 id="æ¥ä¸‹æ¥é€šè¿‡å­¦ä¹ stringhåº“è¿›ä¸€æ­¥äº†è§£æŒ‡é’ˆçš„ä½¿ç”¨">æ¥ä¸‹æ¥é€šè¿‡å­¦ä¹ string.håº“ï¼Œè¿›ä¸€æ­¥äº†è§£æŒ‡é’ˆçš„ä½¿ç”¨</h2>
<p>ä¸€èˆ¬æœ‰æŒ‡é’ˆçš„ç±»éœ€è¦å†™ä¸‰ä¸ªç‰¹æ®Šå‡½æ•°æ‹·è´æ„é€ ã€æ‹·è´ææ„ã€æ‹·è´èµ‹å€¼ï¼Œ</p>
<p><a href="#R-image-f71458ea7a588540dacdf61ab3514ad8" class="lightbox-link"><img alt="String" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f71458ea7a588540dacdf61ab3514ad8"><img alt="String" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-2.png"></a>
<a href="#R-image-c41bf6aa7e235e455fd873d87c264c94" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-3.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c41bf6aa7e235e455fd873d87c264c94"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-3.png"></a>
<a href="#R-image-2662cc006c0ca37109c4b2dc3699100a" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-4.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2662cc006c0ca37109c4b2dc3699100a"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-4.png"></a>
<a href="#R-image-1f74375d602cd134bed1794bee8730d2" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-5.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1f74375d602cd134bed1794bee8730d2"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-5.png"></a></p>
<p>æœ‰æ—¶å€™è¿˜éœ€è¦ç”¨åˆ°new å’Œ deleteã€‚</p>
<h2 id="stackæ ˆå’Œheapå †">stackï¼ˆæ ˆï¼‰å’Œheapï¼ˆå †ï¼‰</h2>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        String str1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String();
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>ä¸Šé¢çš„{}å†…çš„ä»£ç å°±æ˜¯å­˜å‚¨åœ¨stackä¸­ï¼Œè€Œç»è¿‡newçš„å˜é‡å­˜åœ¨heapä¸­ï¼›</p>
<h3 id="stack-object-çš„ç”Ÿå‘½å‘¨æœŸ">stack object çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<p>åœ¨{}å†…çš„ä»£ç æ‰§è¡Œç»“æŸåï¼Œ<strong>è‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°</strong>å°†å˜é‡æ¸…ç†æ‰ï¼Œå¦‚ä¸‹ä»£ç ï¼Œ</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h3 id="static-local-object-çš„ç”Ÿå‘½å‘¨æœŸ">static local object çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<p>æ·»åŠ å…³é”®å­—staticçš„å˜é‡æˆä¸ºé™æ€å˜é‡ï¼Œåœ¨ä½œç”¨äºå¦‚ä¸‹é¢ä»£ç çš„{}ç»“æŸåä¸ä¼šè¢«ææ„å‡½æ•°æ¸…ç†æ‰ï¼Œ
å˜é‡ä¼šå­˜å‚¨ç›´åˆ°ç¨‹åºç»“æŸã€‚</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">static</span> String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h3 id="global-objects-ç”Ÿå‘½å‘¨æœŸ">global objects ç”Ÿå‘½å‘¨æœŸ</h3>
<p>å…¨å±€å˜é‡åœ¨ç¨‹åºæ¥æ”¶åæ‰ä¼šè¢«æ¸…ç†æ‰ã€‚</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>{<span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">str</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h3 id="è°ƒç”¨newå’Œdeleteçš„è¿‡ç¨‹">è°ƒç”¨newå’Œdeleteçš„è¿‡ç¨‹</h3>
<p>åœ¨ä½¿ç”¨newçš„åœ°æ–¹éœ€è¦ä½¿ç”¨deleteæ¸…ç†å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„éœ²ã€‚</p>
<p>è°ƒç”¨newè¿‡ç¨‹ï¼š</p>
<p><a href="#R-image-c3385d51bb2bd1eb420a16f3e8e62d10" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-6.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c3385d51bb2bd1eb420a16f3e8e62d10"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-6.png"></a></p>
<p>è°ƒç”¨deleteçš„è¿‡ç¨‹ï¼š</p>
<p><a href="#R-image-f7e23c1e22c7a6622ecac9132c56226e" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-7.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f7e23c1e22c7a6622ecac9132c56226e"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-7.png"></a>
<a href="#R-image-aa169a29cd0123e8dee6b3850671d98a" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-8.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aa169a29cd0123e8dee6b3850671d98a"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-8.png"></a></p>
<p>ä»£ç  åˆ†é…å†…å­˜å¤§å°å·¦å›¾æ˜¯è°ƒè¯•æ¨¡å¼ä¸‹çš„å†…å­˜åˆ†é…ï¼Œå³å›¾æ˜¯éè°ƒè¯•æ¨¡å¼ä¸‹åˆ†é…çš„å†…å­˜</p>
<p><a href="#R-image-8bf563eb3f0e652e61ec18923ff6989a" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-9.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8bf563eb3f0e652e61ec18923ff6989a"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-9.png"></a></p>
<p>newä¸deleteçš„æ­é…ï¼Œåœ¨åˆ é™¤æ•°ç»„æ—¶éœ€è¦åŠ ä¸Š[]å¦åˆ™ç¼–è¯‘å™¨ä¸çŸ¥é“ä½ è¦åˆ çš„æ˜¯æ•°ç»„ï¼š</p>
<p><a href="#R-image-af436532f5ee61756b44e7daf61bb169" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-10.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-af436532f5ee61756b44e7daf61bb169"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-10.png"></a></p>
<h2 id="newå’Œdeleteçš„è¡¥å……">newå’Œdeleteçš„è¡¥å……</h2>
<p>å¯¹newå’Œdeleteçš„é‡è½½ï¼Œç”¨äºè®¾è®¡å†…å­˜ç®¡ç†ï¼Œå¦‚å†…å­˜æ± ç­‰æ“ä½œã€‚</p>
<h3 id="é‡è½½newdelete">é‡è½½::new,::delete</h3>
<p>é‡è½½çš„å‡½æ•°ä¸­ï¼Œnewæ“ä½œä¼šæ¥æ”¶ä¸€ä¸ªå¤§å°ï¼Œè¯¥å¤§å°ç”±ç¼–è¯‘å™¨ä¼ å…¥ï¼Œè€Œdeleteä¼ å…¥çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¦‚ä¸‹å›¾ï¼›
<a href="#R-image-79e1552c25714a32ac0337a4da1f4ae8" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-16.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-79e1552c25714a32ac0337a4da1f4ae8"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-16.png"></a></p>
<p>å¦‚æœä¸æƒ³ä½¿ç”¨ç±»ä¸­çš„newå’Œdeleteï¼Œå¯ä»¥åœ¨äºŒè€…ä¹‹å‰åŠ ä¸Š:,å¦‚::new,::deleteï¼Œè¿™æ ·åœ¨è°ƒç”¨å‡½æ•°æ—¶å°±ä¸ä¼šè°ƒç”¨ç±»è®¾è®¡ä¸­çš„newå’Œdeleteé‡è½½ï¼Œè€Œæ˜¯å…¨å±€çš„ã€‚</p>
<h3 id="ç±»ä¸­é‡è½½çš„newå’Œdelete">ç±»ä¸­é‡è½½çš„newå’Œdelete</h3>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">//ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">F</span>{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> operate <span style="color:#66d9ef">new</span>(size_t);<span style="color:#75715e">//1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> operate <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>,size_t);<span style="color:#75715e">//2,size_tå¯ä¸å†™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ä»£ç æ®µ1çš„å†…éƒ¨æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> mem <span style="color:#f92672">=</span> operate <span style="color:#66d9ef">new</span>(size_t);
</span></span><span style="display:flex;"><span>    p <span style="color:#f92672">=</span> <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span>F<span style="color:#f92672">*&gt;</span>(mem);<span style="color:#75715e">//ç±»å‹è½¬æ¢
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">-&gt;</span>F<span style="color:#f92672">::</span>F();<span style="color:#75715e">//æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ä»£ç æ®µ2çš„å†…éƒ¨æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">-&gt;~</span>F();
</span></span><span style="display:flex;"><span>operate <span style="color:#a6e22e">delete</span>(p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// mainå‡½æ•°è°ƒç”¨ç¤ºä¾‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    F<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> F();
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span> p;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="ç±»ä¸­é‡è½½çš„newå’Œdelete-1">ç±»ä¸­é‡è½½çš„new[]å’Œdelete[]</h3>
<p>ä»£ç æ•´ä½“æµç¨‹ä¸ä¸Šä¸€ä¸ªæƒ…å†µç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºnew[]æ˜¯ç”³è¯·æ•°ç»„å†…å­˜ï¼Œåœ¨é”€æ¯çš„æ—¶å€™å¦‚æœä¸ä½¿ç”¨delete[]é‡Šæ”¾å†…å­˜ï¼Œdeleteåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¯¼è‡´å†…å­˜æ²¡æœ‰å®Œå…¨é‡Šæ”¾ï¼Œè¯¦ç»†ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">//ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">F</span>{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> operate <span style="color:#66d9ef">new</span>(size_t);<span style="color:#75715e">//1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> operate <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span>,size_t);<span style="color:#75715e">//2,size_tå¯ä¸å†™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ä»£ç æ®µ1çš„å†…éƒ¨æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">try</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> mem <span style="color:#f92672">=</span> operate <span style="color:#66d9ef">new</span>(size_t<span style="color:#f92672">*</span>N <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>);<span style="color:#75715e">//æŒ‡é’ˆå 4ä¸ªå­—èŠ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p <span style="color:#f92672">=</span> <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span>F<span style="color:#f92672">*&gt;</span>(mem);<span style="color:#75715e">//ç±»å‹è½¬æ¢
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    p<span style="color:#f92672">-&gt;</span>F<span style="color:#f92672">::</span>F();<span style="color:#75715e">//æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//ä»£ç æ®µ2çš„å†…éƒ¨æ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>p<span style="color:#f92672">-&gt;~</span>F();<span style="color:#75715e">//ææ„å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>operate <span style="color:#a6e22e">delete</span>(p);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// mainå‡½æ•°è°ƒç”¨ç¤ºä¾‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    F<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> F[N];
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">delete</span>[] p;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="newdeleteä½¿ç”¨ç¤ºä¾‹">new,deleteä½¿ç”¨ç¤ºä¾‹</h2>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> _id;<span style="color:#75715e">//4ä¸ªå­—èŠ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">long</span> _data;<span style="color:#75715e">//4ä¸ªå­—èŠ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    string _str;<span style="color:#75715e">//40ä¸ªå­—èŠ‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Foo() <span style="color:#f92672">:</span>_id(<span style="color:#ae81ff">0</span>)       { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;default ctor.this = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;id: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> _id <span style="color:#f92672">&lt;&lt;</span> endl; };
</span></span><span style="display:flex;"><span>    Foo(<span style="color:#66d9ef">int</span> i) <span style="color:#f92672">:</span>_id(i)  { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;ctor.this = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;id: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> _id <span style="color:#f92672">&lt;&lt;</span> endl; };
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">~</span>Foo()              { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;dtor.this = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;id: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> _id <span style="color:#f92672">&lt;&lt;</span> endl; };
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> <span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">new</span>(size_t size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#66d9ef">operator</span> <span style="color:#a6e22e">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">new</span>[](size_t size);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">delete</span>[](<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">new</span>(size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Foo<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (Foo<span style="color:#f92672">*</span>)malloc(size);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;new size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">delete</span>(<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;delete size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    free(p);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">new</span>[](size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Foo<span style="color:#f92672">*</span> p <span style="color:#f92672">=</span> (Foo<span style="color:#f92672">*</span>)malloc(size);
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;new[] size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> Foo<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">delete</span>[](<span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> p, size_t size)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;delete[] size = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> size <span style="color:#f92672">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    free(p);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>new size <span style="color:#f92672">=</span> <span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span> ctor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC67A460id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dtor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC67A460id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>delete size <span style="color:#f92672">=</span> <span style="color:#ae81ff">48</span>
</span></span><span style="display:flex;"><span>_____________________________________________
</span></span><span style="display:flex;"><span>new[] size <span style="color:#f92672">=</span> <span style="color:#ae81ff">104</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span> ctor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673438id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">default</span> ctor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673468id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dtor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673468id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dtor.this <span style="color:#f92672">=</span> <span style="color:#ae81ff">000001</span><span style="color:#ae81ff">91</span>EC673438id: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>delete[] size <span style="color:#f92672">=</span> <span style="color:#ae81ff">104</span></span></span></code></pre></div>
<h3 id="ä¸ºä»€ä¹ˆnewæ“ä½œä¼šå¤šå‡º8ä¸ªå­—èŠ‚å‘¢">ä¸ºä»€ä¹ˆnew[]æ“ä½œä¼šå¤šå‡º8ä¸ªå­—èŠ‚å‘¢ï¼Ÿ</h3>
<p>æˆ‘çœ‹è¯¾ç¨‹è§†é¢‘ï¼Œè€å¸ˆè¯´new[]åˆ†é…çš„å†…å­˜å—ä¼šåœ¨æœ€å‰é¢å­˜å‚¨è®¡æ•°é‡ï¼Œå ç”¨4ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºæ•°ç»„å¤§å°ï¼Œä½†æ˜¯æˆ‘åœ¨ç”µè„‘ä¸Šè¿è¡Œä¼šå¤šå‡º8ä¸ªå­—èŠ‚ï¼ŒæŸ¥é˜…èµ„æ–™å¯èƒ½ä¸ç³»ç»Ÿã€å¯¹é½æ–¹å¼ã€ç¼–è¯‘å™¨ç­‰æœ‰å…³ã€‚</p>
<p><a href="#R-image-099c606dc79b9a6f27cd8048bf2a6ab8" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-17.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-099c606dc79b9a6f27cd8048bf2a6ab8"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-17.png"></a></p>
<h2 id="å¯¹newçš„åˆ†é…é¢å¤–å†…å­˜">å¯¹newçš„åˆ†é…é¢å¤–å†…å­˜</h2>
<p>å‡è®¾åˆ†é…å†…å­˜çš„åŒæ—¶éœ€è¦é¢å¤–åˆ†é…ä¸€å®šçš„å†…å­˜ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç ï¼š
<a href="#R-image-ad5424e9f6d21fcf374628d453fa4a3a" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-18.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad5424e9f6d21fcf374628d453fa4a3a"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-18.png"></a></p>
<h2 id="å°ç»“-1">å°ç»“</h2>
<p>å¯¹äºåŒ…å«æœ‰æŒ‡é’ˆçš„ç±»ï¼Œåœ¨å¿…è¦æ—¶å†™ä¸Šæ‹·è´æ„é€ ã€æ‹·è´èµ‹å€¼ã€ææ„å‡½æ•°ï¼Œå¦‚ä¸‹ä»£ç </p>
<div class="tab-panel" data-tab-group="b4a21ced490be78aa04d9484e338add3">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="class-stringfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('b4a21ced490be78aa04d9484e338add3','class-stringfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> class String</span>
    </button>
    <button
      data-tab-item="destructorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;"
      onclick="switchTab('b4a21ced490be78aa04d9484e338add3','destructorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Destructor</span>
    </button>
    <button
      data-tab-item="constructorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;"
      onclick="switchTab('b4a21ced490be78aa04d9484e338add3','constructorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Constructor</span>
    </button>
    <button
      data-tab-item="copy-constructorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: origin;"
      onclick="switchTab('b4a21ced490be78aa04d9484e338add3','copy-constructorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Copy Constructor</span>
    </button>
    <button
      data-tab-item="copy-assignment-operatorfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;"
      onclick="switchTab('b4a21ced490be78aa04d9484e338add3','copy-assignment-operatorfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Copy Assignment Operator</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="class-stringfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">String</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> m_data;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        String(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cstr <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>);           <span style="color:#75715e">//æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        String(<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> str);              <span style="color:#75715e">//æ‹·è´æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        String<span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span> (<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> str);  <span style="color:#75715e">//æ‹·è´èµ‹å€¼å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#f92672">~</span>String();                              <span style="color:#75715e">//ææ„å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> <span style="color:#a6e22e">get_c_str</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> m_data;}
</span></span><span style="display:flex;"><span>    };</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="destructorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    String<span style="color:#f92672">::~</span>String()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">delete</span>[] m_data;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="constructorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: red;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span> 
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">::</span>String(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> cstr <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (cstr)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(cstr)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            strcpy(m_data, cstr);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>            m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[<span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>            strcpy(m_data,<span style="color:#e6db74">&#39;\0&#39;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="copy-constructorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: origin;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span>
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">::</span>String(<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> cstr){
</span></span><span style="display:flex;"><span>        m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(cstr.m_data) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>        strcpy(m_data, cstr);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="copy-assignment-operatorfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">inline</span> 
</span></span><span style="display:flex;"><span>    String<span style="color:#f92672">&amp;</span> String<span style="color:#f92672">::</span><span style="color:#66d9ef">operator</span><span style="color:#f92672">=</span>(<span style="color:#66d9ef">const</span> String<span style="color:#f92672">&amp;</span> str)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span> <span style="color:#f92672">==</span> <span style="color:#f92672">&amp;</span>str)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">delete</span>[] m_data;
</span></span><span style="display:flex;"><span>        m_data <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">char</span>[strlen(str.m_data) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>];
</span></span><span style="display:flex;"><span>        strcpy(m_data, str);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<h2 id="è¡¥å……å†…å®¹static">è¡¥å……å†…å®¹static</h2>
<p><a href="#R-image-1068d4fc642ca6861d6c28dbdbbf0e82" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/053bb0f3f18235ed9a9ba76e717a1673.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1068d4fc642ca6861d6c28dbdbbf0e82"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/053bb0f3f18235ed9a9ba76e717a1673.png"></a></p>
<h3 id="staticåœ¨privateä¸­çš„ä½¿ç”¨ä¾‹å­">staticåœ¨privateä¸­çš„ä½¿ç”¨ä¾‹å­</h3>
<p><a href="#R-image-92e47a16b895acab4302173576137a4f" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-11.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-92e47a16b895acab4302173576137a4f"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-11.png"></a>
<a href="#R-image-eac56048c3cd7cddf5444434cc63bb64" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-12.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-eac56048c3cd7cddf5444434cc63bb64"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-12.png"></a></p>
<h3 id="class-template">class template</h3>
<p><a href="#R-image-3fc5dca0d635c5f64e99ab30cc5357e1" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-13.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3fc5dca0d635c5f64e99ab30cc5357e1"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-13.png"></a></p>
<h3 id="function-template">function template</h3>
<h3 id="member-template-æˆå‘˜æ¨¡æ¿">member template æˆå‘˜æ¨¡æ¿</h3>
<p>ç±»æ¨¡æ¿ä¸­ï¼Œè¿˜æœ‰ç±»æ¨¡æ¿ï¼Œé€šå¸¸æ˜¯å¯¹æ„é€ å‡½æ•°çš„æ“ä½œï¼Œå¦‚ä¸‹å›¾ï¼š
<a href="#R-image-a3cae46b733d5bf9a5e057642b777fca" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-14.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a3cae46b733d5bf9a5e057642b777fca"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-14.png"></a></p>
<p>å¦‚ä¸‹å›¾ä»£ç 
<a href="#R-image-9c7dd798430842c56cd0e225aad3f3b0" class="lightbox-link"><img alt="alt text" class="lazy lightbox figure-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-15.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9c7dd798430842c56cd0e225aad3f3b0"><img alt="alt text" class="lazy lightbox lightbox-image" loading="lazy" src="/class/17.c%E5%8A%A0%E5%8A%A0%E7%BC%96%E7%A8%8B/1.%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83/image-15.png"></a></p>
<p>ç”¨æ„å°±æ˜¯å½“ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çˆ¶ç±»æ—¶ï¼Œåˆå§‹åŒ–è®©ä»–æŒ‡å‘å­ç±»ï¼Œé‚£ä¹ˆæ­¤æ—¶éœ€è¦å®ç°ä¸Šå›¾ç±»ä¸­çš„ä»£ç ã€‚</p>
<h3 id="namespaceå‘½ä»¤ç©ºé—´">namespaceï¼ˆå‘½ä»¤ç©ºé—´ï¼‰</h3>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<div class="tab-panel" data-tab-group="e1ee590ff75fa589469b7debecea0b97">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="using-directionfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;" tabindex="-1"
      onclick="switchTab('e1ee590ff75fa589469b7debecea0b97','using-directionfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> using direction</span>
    </button>
    <button
      data-tab-item="using-declarationfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;"
      onclick="switchTab('e1ee590ff75fa589469b7debecea0b97','using-declarationfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> using declaration</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="using-directionfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: green;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>;
</span></span><span style="display:flex;"><span>        cin<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="using-declarationfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue;">
      <div class="tab-content-text">
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">using</span> std<span style="color:#f92672">::</span>cout;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cin<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>æˆ–è€…</p>
<div class="highlight wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>;
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cin<span style="color:#f92672">&lt;&lt;</span><span style="color:#960050;background-color:#1e0010">â€¦â€¦</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> é™„ä»¶</div>
  <ul class="box-content attachments-files">
      <li><a href="/Class/17.C%e5%8a%a0%e5%8a%a0%e7%bc%96%e7%a8%8b/1.%e4%bb%a3%e7%a0%81%e7%bc%96%e5%86%99%e8%a7%84%e8%8c%83/_index.files/complex.h">complex.h</a> (546 B)</li>
      <li><a href="/Class/17.C%e5%8a%a0%e5%8a%a0%e7%bc%96%e7%a8%8b/1.%e4%bb%a3%e7%a0%81%e7%bc%96%e5%86%99%e8%a7%84%e8%8c%83/_index.files/Foo.hpp">Foo.hpp</a> (1 KB)</li>
      <li><a href="/Class/17.C%e5%8a%a0%e5%8a%a0%e7%bc%96%e7%a8%8b/1.%e4%bb%a3%e7%a0%81%e7%bc%96%e5%86%99%e8%a7%84%e8%8c%83/_index.files/String.h">String.h</a> (1 KB)</li>
  </ul>
</div>
  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> 2024å¹´10æœˆ15æ—¥
<div class="R-taxonomy taxonomy-categories cstyle" title="ç±»åˆ«" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/categories/r1-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">R1-ç¼–ç¨‹è¯­è¨€</a></li>
  </ul>
</div>
  </footer>
</article>
        </div>
      </main>
    </div>
    <script src="/js/clipboard/clipboard.min.js?1744055979" defer></script>
    <script src="/js/perfect-scrollbar/perfect-scrollbar.min.js?1744055979" defer></script>
    <script src="/js/theme.js?1744055979" defer></script>
  </body>
</html>
